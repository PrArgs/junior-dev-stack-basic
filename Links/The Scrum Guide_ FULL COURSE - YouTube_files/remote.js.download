(function(g){var window=this;'use strict';var cfw=function(I,U){return g.Pt(I,U)},$EQ=function(I){if(I instanceof g.y2)return I;
if(typeof I.Vf=="function")return I.Vf(!1);if(g.Bk(I)){let U=0;const t=new g.y2;t.next=function(){for(;;){if(U>=I.length)return g.XU;if(U in I)return g.FK(I[U++]);U++}};
return t}throw Error("Not implemented");},u7Q=function(I,U,t){if(g.Bk(I))g.uY(I,U,t);
else for(I=$EQ(I);;){const {done:W,value:E}=I.next();if(W)break;U.call(t,E,void 0,I)}},Wu=function(I){g.MM(I,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.UH()).toString(36));
return I},Ei=function(I,U,t){Array.isArray(t)||(t=[String(t)]);
g.te(I.A,U,t)},h80=function(I,U){const t=[];
u7Q(U,function(W){let E;try{E=g.ah.prototype.Yd.call(this,W,!0)}catch(Z){if(Z=="Storage: Invalid value was encountered")return;throw Z;}E===void 0?t.push(W):g.sb(E)&&t.push(W)},I);
return t},Svt=function(I,U){h80(I,U).forEach(function(t){g.ah.prototype.remove.call(this,t)},I)},z8f=function(I){if(I.wC){if(I.wC.locationOverrideToken)return{locationOverrideToken:I.wC.locationOverrideToken};
if(I.wC.latitudeE7!=null&&I.wC.longitudeE7!=null)return{latitudeE7:I.wC.latitudeE7,longitudeE7:I.wC.longitudeE7}}return null},L60=function(I,U){g.Fe(I,U)||I.push(U)},ZQ=function(I){let U=0;
for(const t in I)U++;return U},pl8=function(I){try{return g.k5.JSON.parse(I)}catch(U){}I=String(I);
if(/^\s*$/.test(I)?0:/^[\],:{}\s\u2028\u2029]*$/.test(I.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+I+")")}catch(U){}throw Error("Invalid JSON string: "+I);},Hu=function(I){if(g.k5.JSON)try{return g.k5.JSON.parse(I)}catch(U){}return pl8(I)},mEH=function(I,U,t,W){const E=new g.qM(null);
I&&g.eO(E,I);U&&g.bq(E,U);t&&g.BQ(E,t);W&&(E.J=W);return E},gDY=function(I,U){return new g.VrI(I,U)},wQ=function(I,U){return Object.prototype.hasOwnProperty.call(I,U)},C1t=function(I,U){return I===U},lU=function(I,U){this.J={};
this.B=[];this.Wt=this.size=0;var t=arguments.length;if(t>1){if(t%2)throw Error("Uneven number of arguments");for(var W=0;W<t;W+=2)this.set(arguments[W],arguments[W+1])}else if(I)if(I instanceof lU)for(t=I.jd(),W=0;W<t.length;W++)this.set(t[W],I.get(t[W]));else for(W in I)this.set(W,I[W])},dQ=function(I){if(I.size!=I.B.length){for(var U=0,t=0;U<I.B.length;){var W=I.B[U];
wQ(I.J,W)&&(I.B[t++]=W);U++}I.B.length=t}if(I.size!=I.B.length){U={};for(W=t=0;t<I.B.length;){const E=I.B[t];wQ(U,E)||(I.B[W++]=E,U[E]=1);t++}I.B.length=W}},KH=function(I){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new lU;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";I&&(this.id=I.id||I.name,this.name=I.name,this.clientName=I.clientName?I.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=I.app,this.type=I.type||"REMOTE_CONTROL",this.username=I.user||"",this.avatar=I.userAvatarUri||"",this.obfuscatedGaiaId=I.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=I.ownerObfuscatedGaiaId||"",this.theme=I.theme||"u",yfQ(this,I.capabilities||""),F6e(this,I.compatibleSenderThemes||""),QKY(this,I.experiments||""),this.brand=I.brand||"",this.model=I.model||"",this.year=I.year||0,this.os=I.os||"",this.osVersion=I.osVersion||"",this.chipset=I.chipset||"",this.mdxDialServerType=I.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",I=I.deviceInfo)&&(I=JSON.parse(I),this.brand=I.brand||"",this.model=I.model||"",this.year=I.year||0,this.os=I.os||"",this.osVersion=I.osVersion||"",this.chipset=I.chipset||"",this.clientName=I.clientName?I.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=I.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},yfQ=function(I,U){I.capabilities.clear();
g.h$(U.split(","),g.Pk(cfw,fAQ)).forEach(t=>{I.capabilities.add(t)})},F6e=function(I,U){I.compatibleSenderThemes.clear();
g.h$(U.split(","),g.Pk(cfw,jKV)).forEach(t=>{I.compatibleSenderThemes.add(t)})},QKY=function(I,U){I.experiments.clear();
U.split(",").forEach(t=>{I.experiments.add(t)})},vu=function(I){I=I||{};
this.name=I.name||"";this.id=I.id||I.screenId||"";this.token=I.token||I.loungeToken||"";this.uuid=I.uuid||I.dialId||"";this.idType=I.screenIdType||"normal";this.secret=I.screenIdSecret||""},cu=function(I,U){return!!U&&(I.id==U||I.uuid==U)},Afw=function(I){return{name:I.name,
screenId:I.id,loungeToken:I.token,dialId:I.uuid,screenIdType:I.idType,screenIdSecret:I.secret}},sK$=function(I){return new vu(I)},aAH=function(I){return Array.isArray(I)?g.Sk(I,sK$):[]},$k=function(I){return I?`{name:"${I.name}",id:${I.id.substr(0,6)}..,token:${I.token?".."+I.token.slice(-6):"-"},uuid:${I.uuid?".."+I.uuid.slice(-6):"-"},idType:${I.idType},secret:${I.secret?".."+I.secret.slice(-6):"-"}}`:"null"},uU=function(I){return Array.isArray(I)?"["+g.Sk(I,$k).join(",")+"]":"null"},h0=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(I){const U=Math.random()*16|0;
return(I=="x"?U:U&3|8).toString(16)})},NyV=function(I){return g.Sk(I,function(U){return{key:U.id,
name:U.name}})},Sj=function(I,U){return g.CQ(I,function(t){return t||U?!t!=!U?!1:t.id==U.id:!0})},zs=function(I,U){return g.CQ(I,function(t){return cu(t,U)})},Jf6=function(){const I=g.tM.DC();
I&&Svt(I,I.WF.Vf(!0))},LH=function(){const I=g.Ey("yt-remote-connected-devices")||[];
g.xf(I);return I},oD6=function(I){if(I.length==0)return[];
const U=I[0].indexOf("#"),t=U==-1?I[0]:I[0].substring(0,U);return g.Sk(I,function(W,E){return E==0?W:W.substring(t.length)})},XlH=function(I){g.Wi("yt-remote-connected-devices",I,86400)},mp=function(){if(pH)return pH;
let I=g.Ey("yt-remote-device-id");I||(I=h0(),g.Wi("yt-remote-device-id",I,31536E3));const U=LH();let t=1,W=I;for(;g.Fe(U,W);)t++,W=I+"#"+t;return pH=W},gQ=function(){let I=LH();
const U=mp();g.Hi()&&g.G6(I,U);I=oD6(I);if(I.length==0)try{g.tq("remote_sid")}catch(t){}else try{g.IS("remote_sid",I.join(","),-1)}catch(t){}},iww=function(){return g.Ey("yt-remote-session-browser-channel")},YvQ=function(){return g.Ey("yt-remote-local-screens")||[]},kSL=function(){g.Wi("yt-remote-lounge-token-expiration",!0,86400)},DEY=function(I){I.length>5&&(I=I.slice(I.length-5));
const U=g.Sk(YvQ(),function(W){return W.loungeToken}),t=g.Sk(I,function(W){return W.loungeToken});
g.mw(t,function(W){return!g.Fe(U,W)})&&kSL();
g.Wi("yt-remote-local-screens",I,31536E3)},CH=function(I){I||(g.Zs("yt-remote-session-screen-id"),g.Zs("yt-remote-session-video-id"));
gQ();I=LH();g.jk(I,mp());XlH(I)},xEH=function(){if(!yr){const I=g.kp();
I&&(yr=new g.Fu(I))}},rfY=function(){xEH();
return yr?!!yr.get("yt-remote-use-staging-server"):!1},F0=function(I,U){g.tj[I]=!0;
const t=g.I2();t&&t.publish.apply(t,arguments);g.tj[I]=!1},Qr=function(){let I=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return I?parseInt(I[1],10):0},GSH=function(I){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+I)!=-1||document.currentScript.src.indexOf("&"+I)!=-1)},qvw=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},fH=function(I){I.length?e8H(I.shift(),function(){fH(I)}):jj()},jj=function(){let I=qvw();
I&&I(!1,"No cast extension found")},e8H=function(I,U,t){let W=document.createElement("script");
W.onerror=U;t&&(W.onload=t);g.vT(W,g.MS(I));(document.head||document.documentElement).appendChild(W)},bww=function(I){return"chrome-extension://"+I+"/cast_sender.js"},By$=function(){const I=Qr(),U=[];
if(I>1){const t=I-1;U.push("//www.gstatic.com/eureka/clank/"+I+"/cast_sender.js");U.push("//www.gstatic.com/eureka/clank/"+t+"/cast_sender.js")}return U},A0=function(){if(TyH){var I=2,U=qvw(),t=function(){I--;
I==0&&U&&U(!0)};
window.__onGCastApiAvailable=t;e8H("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",jj,t)}},R8w=function(){A0();
let I=By$();I.push("//www.gstatic.com/eureka/clank/cast_sender.js");fH(I)},nDL=function(){A0();
let I=By$();I.push(...Owx.map(bww));I.push("//www.gstatic.com/eureka/clank/cast_sender.js");fH(I)},si=function(I,U,t){g.ZW.call(this);
this.G=t!=null?(0,g.Ml)(I,t):I;this.Se=U;this.T=(0,g.Ml)(this.lV,this);this.B=!1;this.J=0;this.D=this.WL=null;this.A=[]},aC=function(){this.B=g.UH()},VPk=function(){N7||(N7=new aC)},MPH=function(){N7||(N7=new aC)},J0=function(){g.HN.call(this,"p")},oC=function(){g.HN.call(this,"o")},X0=function(){return P1Y=P1Y||new g.f_},IWV=function(I){g.HN.call(this,"serverreachability",I)},iU=function(I){const U=X0();
U.dispatchEvent(new IWV(U,I))},URt=function(I){g.HN.call(this,"statevent",I)},Yk=function(I){const U=X0();
U.dispatchEvent(new URt(U,I))},t7w=function(I,U,t,W){g.HN.call(this,"timingevent",I);
this.size=U;this.rtt=t;this.retries=W},kk=function(I,U){if(typeof I!=="function")throw Error("Fn must not be null and must be a function");
return g.k5.setTimeout(function(){I()},U)},DQ=function(){},xk=function(I,U,t,W){this.D=I;
this.A=U;this.wC=t;this.oF=W||1;this.j6=new g.Zk(this);this.Md=45E3;this.u0=null;this.G=!1;this.C=this.hs=this.U=this.yQ=this.on=this.UJ=this.mu=null;this.N=[];this.B=null;this.V=0;this.T=this.wk=null;this.PK=-1;this.Js=!1;this.qd=0;this.Rn=null;this.dk=this.QQ=this.Nd=this.l0=!1;this.J=new W$L},W$L=function(){this.D=null;
this.B="";this.J=!1},rQ=function(I,U,t){I.yQ=1;
I.U=Wu(U.clone());I.C=t;I.l0=!0;ELe(I,null)},ELe=function(I,U){I.on=Date.now();
Gs(I);I.hs=I.U.clone();Ei(I.hs,"t",I.oF);I.V=0;const t=I.D.QQ;I.J=new W$L;I.B=Zyw(I.D,t?U:null,!I.C);I.qd>0&&(I.Rn=new g.tt((0,g.Ml)(I.xf,I,I.B),I.qd));I.j6.listen(I.B,"readystatechange",I.k9);U=I.u0?g.Hq(I.u0):{};I.C?(I.wk||(I.wk="POST"),U["Content-Type"]="application/x-www-form-urlencoded",I.B.send(I.hs,I.wk,I.C,U)):(I.wk="GET",I.B.send(I.hs,I.wk,null,U));iU(1)},wWL=function(I){if(!Hyk(I))return g.oW(I.B);
const U=g.X6(I.B);if(U==="")return"";let t="";const W=U.length,E=g.aW(I.B)==4;if(!I.J.D){if(typeof TextDecoder==="undefined")return q7(I),ej(I),"";I.J.D=new g.k5.TextDecoder}for(let Z=0;Z<W;Z++)I.J.J=!0,t+=I.J.D.decode(U[Z],{stream:!(E&&Z==W-1)});U.length=0;I.J.B+=t;I.V=0;return I.J.B},Hyk=function(I){return I.B?I.wk=="GET"&&I.yQ!=2&&I.D.nL:!1},dRL=function(I,U){var t=I.V,W=U.indexOf("\n",t);
if(W==-1)return bU;t=Number(U.substring(t,W));if(isNaN(t))return lWQ;W+=1;if(W+t>U.length)return bU;U=U.slice(W,W+t);I.V=W+t;return U},Gs=function(I){I.UJ=Date.now()+I.Md;
K$L(I,I.Md)},K$L=function(I,U){if(I.mu!=null)throw Error("WatchDog timer not null");
I.mu=kk((0,g.Ml)(I.vP,I),U)},Bu=function(I){I.mu&&(g.k5.clearTimeout(I.mu),I.mu=null)},ej=function(I){I.D.Mm()||I.Js||vLw(I.D,I)},q7=function(I){Bu(I);
g.WW(I.Rn);I.Rn=null;I.j6.removeAll();if(I.B){const U=I.B;I.B=null;U.abort();U.dispose()}},Uu=function(I,U){try{var t=I.D;
if(t.V$!=0&&(t.B==I||Ts(t.J,I)))if(!I.QQ&&Ts(t.J,I)&&t.V$==3){try{var W=t.KL.B.parse(U)}catch(d){W=null}if(Array.isArray(W)&&W.length==3){var E=W;if(E[0]==0)a:{if(!t.U){if(t.B)if(t.B.on+3E3<I.on)RC(t),Oi(t);else break a;nH(t);Yk(18)}}else t.D5=E[1],0<t.D5-t.yQ&&E[2]<37500&&t.Rn&&t.N==0&&!t.mu&&(t.mu=kk((0,g.Ml)(t.JT,t),6E3));if(Vr(t.J)<=1&&t.PK){try{t.PK()}catch(d){}t.PK=void 0}}else M7(t,11)}else if((I.QQ||t.B==I)&&RC(t),!g.zJ(U))for(E=t.KL.B.parse(U),U=0;U<E.length;U++){let d=E[U];const K=d[0];
if(!(K<=t.yQ))if(t.yQ=K,d=d[1],t.V$==2)if(d[0]=="c"){t.A=d[1];t.wC=d[2];const v=d[3];v!=null&&(t.Kh=v);const c=d[5];c!=null&&typeof c==="number"&&c>0&&(t.qd=1.5*c);W=t;const u=I.Xf();if(u){const z=g.Y8(u,"X-Client-Wire-Protocol");if(z){var Z=W.J;!Z.B&&(g.Lt(z,"spdy")||g.Lt(z,"quic")||g.Lt(z,"h2"))&&(Z.A=Z.T,Z.B=new Set,Z.J&&(Pu(Z,Z.J),Z.J=null))}if(W.l0){const y=g.Y8(u,"X-HTTP-Session-Id");y&&(W.gQ=y,g.MM(W.u0,W.l0,y))}}t.V$=3;t.T&&t.T.SF();t.RF&&(t.SN=Date.now()-I.on);W=t;var H=I;W.Po=cJt(W,W.QQ?
W.wC:null,W.Gk);if(H.QQ){$R$(W.J,H);var w=H,l=W.qd;l&&w.setTimeout(l);w.mu&&(Bu(w),Gs(w));W.B=H}else uK$(W);t.D.length>0&&I7(t)}else d[0]!="stop"&&d[0]!="close"||M7(t,7);else t.V$==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?M7(t,7):t.disconnect():d[0]!="noop"&&t.T&&t.T.Lh(d),t.N=0)}iU(4)}catch(d){}},hSV=function(I){this.T=I||10;
g.k5.PerformanceNavigationTiming?(I=g.k5.performance.getEntriesByType("navigation"),I=I.length>0&&(I[0].nextHopProtocol=="hq"||I[0].nextHopProtocol=="h2")):I=!!(g.k5.chrome&&g.k5.chrome.loadTimes&&g.k5.chrome.loadTimes()&&g.k5.chrome.loadTimes().wasFetchedViaSpdy);this.A=I?this.T:1;this.B=null;this.A>1&&(this.B=new Set);this.J=null;this.D=[]},S3V=function(I){return I.J?!0:I.B?I.B.size>=I.A:!1},Vr=function(I){return I.J?1:I.B?I.B.size:0},Ts=function(I,U){return I.J?I.J==U:I.B?I.B.has(U):!1},Pu=function(I,
U){I.B?I.B.add(U):I.J=U},$R$=function(I,U){I.J&&I.J==U?I.J=null:I.B&&I.B.has(U)&&I.B.delete(U)},tk=function(I){if(I.J!=null)return I.D.concat(I.J.N);
if(I.B!=null&&I.B.size!==0){let U=I.D;for(const t of I.B.values())U=U.concat(t.N);return U}return g.aw(I.D)},zSf=function(I,U){const t=new DQ;
if(g.k5.Image){const W=new Image;W.onload=g.Pk(W6,t,"TestLoadImage: loaded",!0,U,W);W.onerror=g.Pk(W6,t,"TestLoadImage: error",!1,U,W);W.onabort=g.Pk(W6,t,"TestLoadImage: abort",!1,U,W);W.ontimeout=g.Pk(W6,t,"TestLoadImage: timeout",!1,U,W);g.k5.setTimeout(function(){if(W.ontimeout)W.ontimeout()},1E4);
W.src=I}else U(!1)},L$f=function(I,U){const t=new DQ,W=new AbortController,E=setTimeout(()=>{W.abort();
W6(t,"TestPingServer: timeout",!1,U)},1E4);
fetch(I,{signal:W.signal}).then(Z=>{clearTimeout(E);Z.ok?W6(t,"TestPingServer: ok",!0,U):W6(t,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(E);
W6(t,"TestPingServer: error",!1,U)})},W6=function(I,U,t,W,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),W(t)}catch(Z){}},pW0=function(){this.B=new Eu},Zv=function(I,U,t){return t&&t.ix?t.ix[I]||U:U},mRx=function(I){this.D=[];
this.wC=this.Po=this.u0=this.Gk=this.B=this.gQ=this.l0=this.Js=this.V=this.Nd=this.C=null;this.DU=this.hs=0;this.Ug=Zv("failFast",!1,I);this.Rn=this.mu=this.U=this.G=this.T=null;this.k$=!0;this.D5=this.yQ=-1;this.oF=this.N=this.on=0;this.gS=Zv("baseRetryDelayMs",5E3,I);this.An=Zv("retryDelaySeedMs",1E4,I);this.oW=Zv("forwardChannelMaxRetries",2,I);this.lK=Zv("forwardChannelRequestTimeoutMs",2E4,I);this.Xt=I&&I.Xkg||void 0;this.aW=I&&I.vUK||void 0;this.nL=I&&I.TAK||!1;this.qd=void 0;this.QQ=I&&I.Ci||
!1;this.A="";this.J=new hSV(I&&I.S5A);this.iU=Math.min(I&&I.EUu||1E3,1E3);this.KL=new pW0;this.j6=I&&I.ynk||!1;this.UJ=I&&I.B8d||!1;this.j6&&this.UJ&&(this.UJ=!1);this.pK=I&&I.xF0||!1;I&&I.u6u&&(this.k$=!1);this.RF=!this.j6&&this.k$&&I&&I.dFQ||!1;this.Y$=void 0;I&&I.Dv&&I.Dv>0&&(this.Y$=I.Dv);this.PK=void 0;this.SN=0;this.Md=!1;this.dk=this.wk=null},Oi=function(I){I.B&&(H6(I),I.B.cancel(),I.B=null)},gLt=function(I){Oi(I);
I.U&&(g.k5.clearTimeout(I.U),I.U=null);RC(I);I.J.cancel();I.G&&(typeof I.G==="number"&&g.k5.clearTimeout(I.G),I.G=null)},I7=function(I){S3V(I.J)||I.G||(I.G=!0,g.qA(I.VP,I),I.on=0)},yJw=function(I,U){if(Vr(I.J)>=I.J.A-(I.G?1:0))return!1;
if(I.G)return I.D=U.N.concat(I.D),!0;if(I.V$==1||I.V$==2||I.on>=(I.Ug?0:I.oW))return!1;I.G=kk((0,g.Ml)(I.VP,I,U),CkY(I,I.on));I.on++;return!0},Q4x=function(I,U){var t;
U?t=U.wC:t=I.hs++;const W=I.u0.clone();g.MM(W,"SID",I.A);g.MM(W,"RID",t);g.MM(W,"AID",I.yQ);wC(I,W);I.V&&I.C&&g.EV(W,I.V,I.C);t=new xk(I,I.A,t,I.on+1);I.V===null&&(t.u0=I.C);U&&(I.D=U.N.concat(I.D));U=F$Y(I,t,I.iU);t.setTimeout(Math.round(I.lK*.5)+Math.round(I.lK*.5*Math.random()));Pu(I.J,t);rQ(t,W,U)},wC=function(I,U){I.Js&&g.tW(I.Js,function(t,W){g.MM(U,W,t)});
I.T&&g.tW({},function(t,W){g.MM(U,W,t)})},F$Y=function(I,U,t){t=Math.min(I.D.length,t);
const W=I.T?(0,g.Ml)(I.T.yp,I.T,I):null;a:{var E=I.D;let w=-1;for(;;){const l=["count="+t];w==-1?t>0?(w=E[0].B,l.push("ofs="+w)):w=0:l.push("ofs="+w);let d=!0;for(let K=0;K<t;K++){var Z=E[K].B;const v=E[K].map;Z-=w;if(Z<0)w=Math.max(0,E[K].B-100),d=!1;else try{Z="req"+Z+"_"||"";try{var H=v instanceof Map?v:Object.entries(v);for(const [c,u]of H){let z=u;g.R3(u)&&(z=g.LU(u));l.push(Z+c+"="+encodeURIComponent(z))}}catch(c){throw l.push(Z+"type="+encodeURIComponent("_badmap")),c;}}catch(c){W&&W(v)}}if(d){H=
l.join("&");break a}}H=void 0}I=I.D.splice(0,t);U.N=I;return H},uK$=function(I){I.B||I.U||(I.oF=1,g.qA(I.qn,I),I.N=0)},nH=function(I){if(I.B||I.U||I.N>=3)return!1;
I.oF++;I.U=kk((0,g.Ml)(I.qn,I),CkY(I,I.N));I.N++;return!0},H6=function(I){I.wk!=null&&(g.k5.clearTimeout(I.wk),I.wk=null)},fW0=function(I){I.B=new xk(I,I.A,"rpc",I.oF);
I.V===null&&(I.B.u0=I.C);I.B.qd=0;var U=I.Po.clone();g.MM(U,"RID","rpc");g.MM(U,"SID",I.A);g.MM(U,"AID",I.yQ);g.MM(U,"CI",I.Rn?"0":"1");!I.Rn&&I.Y$&&g.MM(U,"TO",I.Y$);g.MM(U,"TYPE","xmlhttp");wC(I,U);I.V&&I.C&&g.EV(U,I.V,I.C);I.qd&&I.B.setTimeout(I.qd);var t=I.B;I=I.wC;t.yQ=1;t.U=Wu(U.clone());t.C=null;t.l0=!0;ELe(t,I)},RC=function(I){I.mu!=null&&(g.k5.clearTimeout(I.mu),I.mu=null)},vLw=function(I,U){var t=null;
if(I.B==U){RC(I);H6(I);I.B=null;var W=2}else if(Ts(I.J,U))t=U.N,$R$(I.J,U),W=1;else return;if(I.V$!=0)if(U.G)if(W==1){t=U.C?U.C.length:0;U=Date.now()-U.on;var E=I.on;W=X0();W.dispatchEvent(new t7w(W,t,U,E));I7(I)}else uK$(I);else{var Z=U.PK;E=U.getLastError();if(E==3||E==0&&Z>0||!(W==1&&yJw(I,U)||W==2&&nH(I)))switch(t&&t.length>0&&(U=I.J,U.D=U.D.concat(t)),E){case 1:M7(I,5);break;case 4:M7(I,10);break;case 3:M7(I,6);break;default:M7(I,2)}}},CkY=function(I,U){let t=I.gS+Math.floor(Math.random()*I.An);
I.isActive()||(t*=2);return t*U},M7=function(I,U){if(U==2){var t=(0,g.Ml)(I.dB,I),W=I.aW;
const E=!W;W=new g.qM(W||"//www.google.com/images/cleardot.gif");g.k5.location&&g.k5.location.protocol=="http"||g.eO(W,"https");Wu(W);E?zSf(W.toString(),t):L$f(W.toString(),t)}else Yk(2);I.V$=0;I.T&&I.T.Ua(U);j4t(I);gLt(I)},j4t=function(I){I.V$=0;
I.dk=[];if(I.T){const U=tk(I.J);if(U.length!=0||I.D.length!=0)g.N8(I.dk,U),g.N8(I.dk,I.D),I.J.D.length=0,g.aw(I.D),I.D.length=0;I.T.Yf()}},AJ$=function(I){if(I.V$==0)return I.dk;
let U=[];g.N8(U,tk(I.J));g.N8(U,I.D);return U},cJt=function(I,U,t){var W=g.gA(t);
W.B!=""?(U&&g.bq(W,U+"."+W.B),g.BQ(W,W.D)):(W=g.k5.location,W=mEH(W.protocol,U?U+"."+W.hostname:W.hostname,+W.port,t));U=I.l0;t=I.gQ;U&&t&&g.MM(W,U,t);g.MM(W,"VER",I.Kh);wC(I,W);return W},Zyw=function(I,U,t){if(U&&!I.QQ)throw Error("Can't create secondary domain capable XhrIo object.");
U=I.nL&&!I.Xt?new g.F6(new g.kJ({G9:t})):new g.F6(I.Xt);U.V=I.QQ;return U},s4Q=function(){},aWx=function(){},dC=function(I,U){g.f_.call(this);
this.B=new mRx(U);this.G=I;this.J=U&&U.qs||null;I=U&&U.KZ||null;U&&U.Lxd&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"});this.B.C=I;I=U&&U.Sie||null;U&&U.GJ&&(I?I["X-WebChannel-Content-Type"]=U.GJ:I={"X-WebChannel-Content-Type":U.GJ});U&&U.iB&&(I?I["X-WebChannel-Client-Profile"]=U.iB:I={"X-WebChannel-Client-Profile":U.iB});this.B.Nd=I;(I=U&&U.U8K)&&!g.zJ(I)&&(this.B.V=I);this.V=U&&U.Ci||!1;this.T=U&&U.jcs||!1;(U=U&&U.L3)&&!g.zJ(U)&&(this.B.l0=U,g.M8(this.J,U)&&(I=this.J,
U in I&&delete I[U]));this.D=new l4(this)},NBe=function(I){J0.call(this);
I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);const U=I.__sm__;U?this.data=(this.B=g.T6(U))?g.EN(U,this.B):U:this.data=I},JJV=function(I){oC.call(this);
this.status=1;this.errorCode=I},l4=function(I){this.B=I},KL=function(I,U){this.A=I;
this.B=U},v6=function(I,U){if(typeof I!=="function")throw Error("Fn must not be null and must be a function");
return g.k5.setTimeout(function(){I()},U)},$0=function(){c6.dispatchEvent(new oLw)},u4=function(I,U,t,W){this.B=I;
this.A=U;this.V=t;this.G=W||1;this.J=45E3;this.D=new g.Zk(this);this.T=new g.t9;this.T.setInterval(250)},iy8=function(I,U,t){I.WU=1;
I.ji=Wu(U.clone());I.dU=t;I.l0=!0;XWL(I,null)},hk=function(I,U,t,W,E){I.WU=1;
I.ji=Wu(U.clone());I.dU=null;I.l0=t;E&&(I.OR=!1);XWL(I,W)},XWL=function(I,U){I.IH=Date.now();
S8(I);I.SW=I.ji.clone();Ei(I.SW,"t",I.G);I.jW=0;I.vG=I.B.AA(I.B.sE()?U:null);I.uN>0&&(I.Lt=new g.tt((0,g.Ml)(I.Wi,I,I.vG),I.uN));I.D.listen(I.vG,"readystatechange",I.uV);U=I.N1?g.Hq(I.N1):{};I.dU?(I.gf="POST",U["Content-Type"]="application/x-www-form-urlencoded",I.vG.send(I.SW,I.gf,I.dU,U)):(I.gf="GET",I.OR&&!g.v9&&(U.Connection="close"),I.vG.send(I.SW,I.gf,null,U));I.B.ST(1)},kox=function(I,U){var t=I.jW,W=U.indexOf("\n",t);
if(W==-1)return zV;t=Number(U.substring(t,W));if(isNaN(t))return Y3w;W+=1;if(W+t>U.length)return zV;U=U.slice(W,W+t);I.jW=W+t;return U},S8=function(I){I.Dy=Date.now()+I.J;
DRt(I,I.J)},DRt=function(I,U){if(I.Z7!=null)throw Error("WatchDog timer not null");
I.Z7=v6((0,g.Ml)(I.rh,I),U)},xRw=function(I){I.Z7&&(g.k5.clearTimeout(I.Z7),I.Z7=null)},LL=function(I){I.B.Mm()||I.C8||I.B.Qu(I)},pL=function(I){xRw(I);
g.WW(I.Lt);I.Lt=null;I.T.stop();I.D.removeAll();if(I.vG){const U=I.vG;I.vG=null;U.abort();U.dispose()}I.sZ&&(I.sZ=null)},rJ6=function(I,U){try{I.B.gX(I,U),I.B.ST(4)}catch(t){}},q3t=function(I,U,t,W,E){if(W==0)t(!1);
else{var Z=E||0;W--;Go0(I,U,function(H){H?t(!0):g.k5.setTimeout(function(){q3t(I,U,t,W,Z)},Z)})}},Go0=function(I,U,t){const W=new Image;
W.onload=function(){try{ml(W),t(!0)}catch(E){}};
W.onerror=function(){try{ml(W),t(!1)}catch(E){}};
W.onabort=function(){try{ml(W),t(!1)}catch(E){}};
W.ontimeout=function(){try{ml(W),t(!1)}catch(E){}};
g.k5.setTimeout(function(){if(W.ontimeout)W.ontimeout()},U);
W.src=I},ml=function(I){I.onload=null;
I.onerror=null;I.onabort=null;I.ontimeout=null},eSL=function(I){this.B=I;
this.J=new Eu},byt=function(I){const U=gC(I.B,I.A4,"/mail/images/cleardot.gif");
Wu(U);q3t(U.toString(),5E3,(0,g.Ml)(I.Lc,I),3,2E3);I.ST(1)},yH=function(I){var U=I.B.G;
U!=null?($0(),U?($0(),CL(I.B,I,!1)):($0(),CL(I.B,I,!0))):(I.c8=new u4(I),I.c8.N1=I.f7,U=I.B,U=gC(U,U.sE()?I.Ct:null,I.R4),$0(),Ei(U,"TYPE","xmlhttp"),hk(I.c8,U,!1,I.Ct,!1))},FL=function(I,U,t){this.B=1;
this.J=[];this.D=[];this.T=new Eu;this.C=I||null;this.G=U!=null?U:null;this.U=t||!1},BBQ=function(I,U){this.B=I;
this.map=U;this.context=null},TBY=function(I,U,t,W){g.HN.call(this,"timingevent",I);
this.size=U;this.rtt=t;this.retries=W},RSw=function(I){g.HN.call(this,"serverreachability",I)},Oyt=function(I){I.Di(1,0);
I.PU=gC(I,null,I.X5);QH(I)},nL$=function(I){I.pv&&(I.pv.abort(),I.pv=null);
I.W5&&(I.W5.cancel(),I.W5=null);I.CT&&(g.k5.clearTimeout(I.CT),I.CT=null);fL(I);I.Oq&&(I.Oq.cancel(),I.Oq=null);I.tL&&(g.k5.clearTimeout(I.tL),I.tL=null)},j8=function(I,U){if(I.B==0)throw Error("Invalid operation: sending map when state is closed");
I.J.push(new BBQ(I.AT++,U));I.B!=2&&I.B!=3||QH(I)},V7w=function(I){let U=0;
I.W5&&U++;I.Oq&&U++;return U},QH=function(I){I.Oq||I.tL||(I.tL=v6((0,g.Ml)(I.Pi,I),0),I.GM=0)},Pkw=function(I,U){if(I.B==1){if(!U){I.N6=Math.floor(Math.random()*1E5);
U=I.N6++;const t=new u4(I,"",U);t.N1=I.KB;const W=Ak(I),E=I.PU.clone();g.MM(E,"RID",U);g.MM(E,"CVER","1");a7(I,E);iy8(t,E,W);I.Oq=t;I.B=2}}else I.B==3&&(U?M7Q(I,U):I.J.length==0||I.Oq||M7Q(I))},M7Q=function(I,U){if(U)if(I.zC>6){I.J=I.D.concat(I.J);
I.D.length=0;var t=I.N6-1;U=Ak(I)}else t=U.V,U=U.dU;else t=I.N6++,U=Ak(I);const W=I.PU.clone();g.MM(W,"SID",I.A);g.MM(W,"RID",t);g.MM(W,"AID",I.M3);a7(I,W);t=new u4(I,I.A,t,I.GM+1);t.N1=I.KB;t.setTimeout(1E4+Math.round(1E4*Math.random()));I.Oq=t;iy8(t,W,U)},a7=function(I,U){I.YX&&(I=I.YX.zb())&&g.tW(I,function(t,W){g.MM(U,W,t)})},Ak=function(I){const U=Math.min(I.J.length,1E3),t=["count="+U];
let W;I.zC>6&&U>0?(W=I.J[0].B,t.push("ofs="+W)):W=0;for(let E=0;E<U;E++){let Z=I.J[E].B;const H=I.J[E].map;Z=I.zC<=6?E:Z-W;try{g.tW(H,function(w,l){t.push("req"+Z+"_"+l+"="+encodeURIComponent(w))})}catch(w){t.push("req"+Z+"_type="+encodeURIComponent("_badmap"))}}I.D=I.D.concat(I.J.splice(0,U));
return t.join("&")},IKf=function(I){I.W5||I.CT||(I.V=1,I.CT=v6((0,g.Ml)(I.Ch,I),0),I.h6=0)},N6=function(I){if(I.W5||I.CT||I.h6>=3)return!1;
I.V++;I.CT=v6((0,g.Ml)(I.Ch,I),UPt(I,I.h6));I.h6++;return!0},CL=function(I,U,t){I.Lm=I.G==null?t:!I.G;
I.M_=U.iC;I.U||Oyt(I)},fL=function(I){I.O8!=null&&(g.k5.clearTimeout(I.O8),I.O8=null)},UPt=function(I,U){let t=5E3+Math.floor(Math.random()*1E4);
I.isActive()||(t*=2);return t*U},Jk=function(I,U){if(U==2||U==9){var t=null;
I.YX&&(t=null);var W=(0,g.Ml)(I.N0,I);t||(t=new g.qM("//www.google.com/images/cleardot.gif"),Wu(t));Go0(t.toString(),1E4,W)}else $0();t58(I,U)},t58=function(I,U){I.B=0;
I.YX&&I.YX.Iu(U);WTe(I);nL$(I)},WTe=function(I){I.B=0;
I.M_=-1;if(I.YX)if(I.D.length==0&&I.J.length==0)I.YX.tA();else{const U=g.aw(I.D),t=g.aw(I.J);I.D.length=0;I.J.length=0;I.YX.tA(U,t)}},gC=function(I,U,t){let W=g.gA(t);
if(W.B!="")U&&g.bq(W,U+"."+W.B),g.BQ(W,W.D);else{const E=window.location;W=mEH(E.protocol,U?U+"."+E.hostname:E.hostname,+E.port,t)}I.aH&&g.tW(I.aH,function(E,Z){g.MM(W,Z,E)});
g.MM(W,"VER",I.zC);a7(I,W);return W},Evw=function(){},ZOV=function(){this.B=[];
this.J=[]},HOx=function(I,U){this.action=I;
this.params=U||{}},o7=function(I,U){g.ZW.call(this);
this.B=new g.bP(this.Zj,0,this);g.J(this,this.B);this.Se=5E3;this.retryCount=this.X1=0;if(typeof I==="function")U&&(I=(0,g.Ml)(I,U));else if(I&&typeof I.handleEvent==="function")I=(0,g.Ml)(I.handleEvent,I);else throw Error("Invalid listener argument");this.J=I},XL=function(I,U,t=!1,W=()=>"",E=!1,Z=!1,H=!1,w=()=>g.xS({}),l,d=!1,K=!1,v=!1,c=!1,u,z){this.Rn=I;
this.on=U;this.U=new g.yx;this.G=z;this.J=(this.D=!!u)?u(()=>{this.pG()}):new o7(this.pG,this);
this.B=null;this.C=!1;this.N=null;this.l0="";this.wk=this.mu=0;this.A=[];this.oF=t;this.u0=W;this.V=Z;this.QQ=w;this.yQ=l;this.wC=H;this.Js=null;this.T=g.xS();this.Gk=E;this.Nd=d;this.PK=K;this.k$=v;this.dk=c;this.UJ=new waw;this.hs=new lKx;this.j6=new dPY;this.Md=new KT8;this.qd=new vv$;this.RF=new c3e;this.SN=new $Px},uZ6=function(I,U,t,W,E){i4(I);
if(I.B){const Z=g.r("ID_TOKEN"),H=I.B.KB||{};Z?H["x-youtube-identity-token"]=Z:delete H["x-youtube-identity-token"];I.B.KB=H}Y0(I);W?(W.getState()!=3&&V7w(W)==0||W.getState(),I.B.connect(U,t,I.on,W.A,W.M3)):E?I.B.connect(U,t,I.on,E.sessionId,E.arrayId):I.B.connect(U,t,I.on);I.D&&!I.J.isActive()&&I.J.start();I.G&&I.G.kAk()},LT6=function(I,U){return I.k$?!0:I.PK?Object.values(ho6).includes(U):I.Nd?!Object.values(S7L).includes(U):I.dk?Object.values(zok).includes(U):!1},pa0=async function(I){try{await k0(I)}finally{var U=
I.A;
I.A=[];var t=U;U=U.length;for(let W=0;W<U;++W)j8(I.B,t[W]);Dv(I);Dv(I)}},Dv=function(I){I.publish("handlerOpened");
I.UJ.B("BROWSER_CHANNEL")},i4=function(I){if(I.B){const U=I.u0(),t=I.B.KB||{};
U?t["x-youtube-lounge-xsrf-token"]=U:delete t["x-youtube-lounge-xsrf-token"];I.B.KB=t}},k0=function(I){if(!I.wC)return mPf(I);
I.Js===null&&(I.Js=mPf(I));return I.Js},mPf=function(I){return g.TU(I.QQ().then(U=>{gvH(I,U)}).V3(()=>{}),()=>{I.Js=null})},gvH=function(I,U){if(I.B){let t=I.B.KB||{};
U&&Object.keys(U).length>0?t={...t,...U}:delete t.Authorization;I.B.KB=t}},Y0=function(I){I.yQ&&!I.V&&gvH(I,I.yQ())},x0=function(I){this.scheme="https";
this.port=this.domain="";this.B="/api/lounge";this.J=!0;I=I||document.location.href;const U=Number(g.wy(I)[4]||null)||"";U&&(this.port=":"+U);this.domain=g.dy(I)||"";I=g.Ct();I.search("MSIE")>=0&&(I=I.match(/MSIE ([\d.]+)/)[1],g.g5(I,"10.0")<0&&(this.J=!1))},rC=function(I,U){let t=I.B;
I.J&&(t=I.scheme+"://"+I.domain+I.port+I.B);return g.pw(t+U,{})},CFt=function(I){g.hi(I.channel,"m",()=>{I.G=3;
I.D.reset();I.U=null;I.V=0;for(const U of I.N)I.channel&&I.channel.send(U);I.N=[];I.publish("webChannelOpened");I.u0.B("WEB_CHANNEL")});
g.hi(I.channel,"n",()=>{I.G=0;I.D.isActive()||I.publish("webChannelClosed");const U=I.channel?.A().D();U&&(I.N=[...U]);I.wk.B("WEB_CHANNEL")});
g.hi(I.channel,"p",U=>{const t=U.data;t[0]==="gracefulReconnect"?(I.D.start(),I.channel&&I.channel.close()):I.publish("webChannelMessage",new HOx(t[0],t[1]));I.Dq=U.statusCode;I.Js.B("WEB_CHANNEL")});
g.hi(I.channel,"o",()=>{I.Dq===401||I.D.start();I.publish("webChannelError");I.l0.B("WEB_CHANNEL","")})},GV=function(I){const U=I.on();
U?I.A["x-youtube-lounge-xsrf-token"]=U:delete I.A["x-youtube-lounge-xsrf-token"]},fK8=function(I,U,t=()=>"",W,E){const Z=()=>new XL(rC(I,"/bc"),U,!1,t,W);
return g.ob("enable_mdx_web_channel_desktop")?new y3x(()=>new FTQ(rC(I,"/wc"),U,t)):new QuL(Z,E)},aKk=function(){var I=juw;
A3L();q6.push(I);suw()},e8=function(I,U){A3L();
const t=Ns6(I,String(U));q6.length==0?J3$(t):(suw(),g.uY(q6,function(W){W(t)}))},b4=function(I){e8("CP",I)},A3L=function(){q6||(q6=g.ql("yt.mdx.remote.debug.handlers_")||[],g.DH("yt.mdx.remote.debug.handlers_",q6))},J3$=function(I){const U=(B6+1)%50;
B6=U;TV[U]=I;R7||(R7=U==49)},suw=function(){var I=q6;
if(TV[0]){var U=R7?B6:-1;do{U=(U+1)%50;const t=TV[U];g.uY(I,function(W){W(t)})}while(U!=B6);
TV=Array(50);B6=-1;R7=!1}},Ns6=function(I,U){let t=(Date.now()-ovQ)/1E3;
t.toFixed&&(t=t.toFixed(3));const W=[];W.push("[",t+"s","] ");W.push("[","yt.mdx.remote","] ");W.push(I+": "+U,"\n");return W.join("")},Ou=function(I){g.ZU.call(this);
this.G=I;this.screens=[]},Xaw=function(I,U){const t=I.get(U.uuid)||I.get(U.id);
if(t)return I=t.name,t.id=U.id||t.id,t.name=U.name,t.token=U.token,t.uuid=U.uuid||t.uuid,t.name!=I;I.screens.push(U);return!0},iOV=function(I,U){let t=I.screens.length!=U.length;
I.screens=g.h$(I.screens,function(E){return!!Sj(U,E)});
const W=U.length;for(let E=0;E<W;E++)t=Xaw(I,U[E])||t;return t},Y78=function(I,U){const t=I.screens.length;
I.screens=g.h$(I.screens,function(W){return!(W||U?!W!=!U?0:W.id==U.id:1)});
return I.screens.length<t},VH=function(I){Ou.call(this,"LocalScreenService");
this.J=I;this.B=NaN;nL(this);this.info("Initializing with "+uU(this.screens))},k88=function(I){if(I.screens.length){const U=g.Sk(I.screens,function(W){return W.id}),t=rC(I.J,"/pairing/get_lounge_token_batch");
I.J.sendRequest("POST",t,{screen_ids:U.join(",")},(0,g.Ml)(I.M$,I),(0,g.Ml)(I.Gj,I))}},nL=function(I){if(g.ob("deprecate_pair_servlet_enabled"))return iOV(I,[]);
var U=aAH(YvQ());U=g.h$(U,function(t){return!t.uuid});
return iOV(I,U)},M6=function(I,U){DEY(g.Sk(I.screens,Afw));
U&&kSL()},P6=function(I){e8("OnlineScreenService",I)},I1=function(I){isNaN(I.D)||g.ab(I.D);
I.D=g.Ay((0,g.Ml)(I.V,I),I.A>0&&I.A<g.UH()?2E4:1E4)},Ul=function(I,U){a:if(ZQ(U)!=ZQ(I.B))var t=!1;
else{t=g.nQ(U);var W=t.length;for(let E=0;E<W;++E)if(!I.B[t[E]]){t=!1;break a}t=!0}t||(P6("Updated online screens: "+g.LU(I.B)),I.B=U,I.publish("screenChange"));DPV(I)},tN=function(I,U,t){const W=rC(I.T,"/pairing/get_screen_availability");
I.T.sendRequest("POST",W,{lounge_token:U.token},(0,g.Ml)(function(E){E=E.screens||[];const Z=E.length;for(let H=0;H<Z;++H)if(E[H].loungeToken==U.token){t(E[H].status=="online");return}t(!1)},I),(0,g.Ml)(function(){t(!1)},I))},DPV=function(I){I=g.nQ(g.ek(I.B,function(U){return U}));
g.xf(I);I.length?g.Wi("yt-remote-online-screen-ids",I.join(","),60):g.Zs("yt-remote-online-screen-ids")},xPf=function(I){const U={};
g.uY(I.G(),function(t){t.token?U[t.token]=t.id:this.Oi("Requesting availability of screen w/o lounge token.")});
return U},WE=function(I,U=!1){Ou.call(this,"ScreenService");
this.A=I;this.V=U;this.B=this.J=null;this.D=[];this.T={};r3t(this)},q76=function(I,U,t,W,E,Z){I.info("getAutomaticScreenByIds "+t+" / "+U);
t||(t=I.T[U]);const H=I.dj();let w=t?zs(H,t):null;t&&(I.V||w)||(w=zs(H,U));if(w){w.uuid=U;const l=El(I,w);tN(I.B,l,function(d){E(d?l:null)})}else t?G8e(I,t,(0,g.Ml)(function(l){const d=El(this,new vu({name:W,
screenId:t,loungeToken:l,dialId:U||""}));tN(this.B,d,function(K){E(K?d:null)})},I),Z):E(null)},eoV=function(I,U){const t=I.screens.length;
for(let W=0;W<t;++W)if(I.screens[W].name==U)return I.screens[W];return null},bOw=function(I,U,t){tN(I.B,U,t)},G8e=function(I,U,t,W){I.info("requestLoungeToken_ for "+U);
const E={postParams:{screen_ids:U},method:"POST",context:I,onSuccess:function(Z,H){Z=H&&H.screens||[];Z[0]&&Z[0].screenId==U?t(Z[0].loungeToken):W(Error("Missing lounge token in token response"))},
onError:function(){W(Error("Request screen lounge token failed"))}};
g.x9(rC(I.A,"/pairing/get_lounge_token_batch"),E)},BsQ=function(I){I.screens=I.J.dj();
var U=I.T;const t={};for(var W in U)t[U[W]]=W;U=I.screens.length;for(W=0;W<U;++W){const E=I.screens[W];E.uuid=t[E.id]||""}I.info("Updated manual screens: "+uU(I.screens))},r3t=function(I){ZD(I);
I.J=new VH(I.A);I.J.subscribe("screenChange",(0,g.Ml)(I.q$,I));BsQ(I);I.V||(I.D=aAH(g.Ey("yt-remote-automatic-screen-cache")||[]));ZD(I);I.info("Initializing automatic screens: "+uU(I.D));I.B=new TsQ(I.A,(0,g.Ml)(I.dj,I,!0));I.B.subscribe("screenChange",(0,g.Ml)(function(){this.publish("onlineScreenChange")},I))},El=function(I,U){var t=I.get(U.id);
t?(t.uuid=U.uuid,U=t):((t=zs(I.D,U.uuid))?(t.id=U.id,t.token=U.token,U=t):I.D.push(U),I.V||Row(I));ZD(I);I.T[U.uuid]=U.id;g.Wi("yt-remote-device-id-map",I.T,31536E3);return U},Row=function(I){I=g.h$(I.D,U=>U.idType!="shortLived");
g.Wi("yt-remote-automatic-screen-cache",g.Sk(I,Afw))},ZD=function(I){I.T=g.Ey("yt-remote-device-id-map")||{}},HE=function(I,U,t){g.ZU.call(this);
this.l0=t;this.A=I;this.J=U;this.B=null},wP=function(I,U){I.B=U;
I.publish("sessionScreen",I.B)},OOQ=function(I,U){I.B&&(I.B.token=U,El(I.A,I.B));
I.publish("sessionScreen",I.B)},lV=function(I,U){e8(I.l0,U)},V5e=function(I,U){g.ab(I.mu);
I.mu=0;U?I.config_.enableCastLoungeToken&&U.loungeToken?U.deviceId?I.B&&I.B.uuid==U.deviceId||(U.loungeTokenRefreshIntervalMs?nvf(I,{name:I.J.friendlyName,screenId:U.screenId,loungeToken:U.loungeToken,dialId:U.deviceId,screenIdType:"shortLived"},U.loungeTokenRefreshIntervalMs):(g.ZL(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(U)}.`)),dP(I,U.screenId))):(g.ZL(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(U)}.`)),dP(I,U.screenId)):
dP(I,U.screenId):I.HG(Error("Waiting for session status timed out."))},M58=function(I){g.ab(I.C);
I.C=0;g.ab(I.V);I.V=0;g.ab(I.mu);I.mu=0;g.ab(I.T);I.T=0;g.ab(I.U);I.U=0},PFe=function(I,U){I.info("sendYoutubeMessage_: "+U+" "+g.LU());
const t={};t.type=U;I.D?I.D.sendMessage("urn:x-cast:com.google.youtube.mdx",t,()=>{},(0,g.Ml)(function(){lV(this,"Failed to send message: "+U+".")},I)):lV(I,"Sending yt message without session: "+g.LU(t))},U_Y=function(I){PFe(I,"getLoungeToken");
g.ab(I.T);I.T=g.Ay(()=>{I9f(I,null)},3E4)},Kq=function(I,U){g.ab(I.U);
I.U=0;U==0?U_Y(I):I.U=g.Ay(()=>{U_Y(I)},U)},I9f=function(I,U){g.ab(I.T);
I.T=0;let t=null;U?U.loungeToken?I.B?.token==U.loungeToken&&(t="staleLoungeToken"):t="missingLoungeToken":t="noLoungeTokenResponse";t?(I.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(U)}, error: ${t}`),Kq(I,3E4)):(OOQ(I,U.loungeToken),Kq(I,U.loungeTokenRefreshIntervalMs))},dP=function(I,U){U?(I.info("onConnectedScreenId_: Received screenId: "+U),I.B&&I.B.id==U||I.Js(U,t=>{wP(I,t)},()=>I.HG(),5)):I.HG(Error("Waiting for session status timed out."))},tY$=
function(I,U,t,W){g.ab(I.V);
I.V=0;bOw(I.A,U,E=>{E||W<0?t(E):I.V=g.Ay(()=>{tY$(I,U,t,W-1)},300)})},nvf=function(I,U,t){I.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(U)}`);
const W=new vu(U);tY$(I,W,E=>{E?(El(I.A,W),wP(I,W),Kq(I,t)):(g.ZL(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(U)} is not online.`)),I.HG())},5)},vE=function(I){return new Promise(U=>{I.on=h0();
if(I.u0){const t=new chrome.cast.DialLaunchResponse(!0,Woe(I));U(t);E7w(I)}else I.N=()=>{g.ab(I.mu);I.N=()=>{};
I.mu=NaN;const t=new chrome.cast.DialLaunchResponse(!0,Woe(I));U(t);E7w(I)},I.mu=g.Ay(()=>{I.N()},100)})},Zn8=function(I){g.ab(I.V);
I.V=0;g.ab(I.U);I.U=0;I.T();I.T=()=>{};
g.ab(I.mu)},cE=function(I){return!(!I.config_.enableDialLoungeToken||!I.D?.getDialAppInfo)},$r=function(I,U){I.info(`getDialAppInfoWithTimeout_ ${U}`);
cE(I)&&(g.ab(I.U),I.U=0,U==0?Hnx(I):I.U=g.Ay(()=>{Hnx(I)},U))},E7w=function(I){I.T=I.A.BM(I.on,I.J.label,I.J.friendlyName,cE(I),(U,t)=>{I.T=()=>{};
wP(I,U);U.idType=="shortLived"&&t>0&&$r(I,t)},U=>{I.T=()=>{};
I.HG(U)})},Woe=function(I){var U={};
U.pairingCode=I.on;U.theme=I.yQ;rfY()&&(U.env_useStageMdx=1);return g.Lw(U)},wGV=function(I,U){const t=I.C.receiver.label,W=I.J.friendlyName;
return(new Promise(E=>{q76(I.A,t,U,W,Z=>{Z&&Z.token&&wP(I,Z);E(Z)},Z=>{lV(I,"Failed to get DIAL screen: "+Z);
E(null)})})).then(E=>E&&E.token?new chrome.cast.DialLaunchResponse(!1):vE(I))},d_0=function(I,U,t){I.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(U)}`);
const W=new vu(U);return(new Promise(E=>{l98(I,W,Z=>{Z?(El(I.A,W),wP(I,W),$r(I,t)):g.ZL(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(U)} is not online.`));E(Z)},5)})).then(E=>E?new chrome.cast.DialLaunchResponse(!1):vE(I))},l98=function(I,U,t,W){g.ab(I.V);
I.V=0;bOw(I.A,U,E=>{E||W<0?t(E):I.V=g.Ay(()=>{l98(I,U,t,W-1)},300)})},Hnx=function(I){cE(I)&&I.D.getDialAppInfo(U=>{I.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(U)}`);
U=U.extraData||{};let t=null;U.loungeToken?I.B?.token==U.loungeToken&&(t="staleLoungeToken"):t="missingLoungeToken";t?$r(I,3E4):(OOQ(I,U.loungeToken),$r(I,U.loungeTokenRefreshIntervalMs))},U=>{I.info(`getDialAppInfo error: ${U}`);
$r(I,3E4)})},juw=function(I){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(I)},v7k=function(I){const U=I.J.Oa();
let t=I.B&&I.B.J;I=g.Sk(U,function(W){t&&cu(W,t.label)&&(t=null);const E=W.uuid?W.uuid:W.id;let Z=Kok(this,W);Z?(Z.label=E,Z.friendlyName=W.name):(Z=new chrome.cast.Receiver(E,W.name),Z.receiverType=chrome.cast.ReceiverType.CUSTOM);return Z},I);
t&&(t.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(t=new chrome.cast.Receiver(t.label,t.friendlyName),t.receiverType=chrome.cast.ReceiverType.CUSTOM),I.push(t));return I},uV=function(I){return I.U||!!I.D.length||!!I.B},hN=function(I){e8("Controller",I)},SU=function(I,U,t){U!=I.B&&(g.WW(I.B),(I.B=U)?(t?I.publish("yt-remote-cast2-receiver-resumed",U.J):I.publish("yt-remote-cast2-receiver-selected",U.J),U.subscribe("sessionScreen",(0,g.Ml)(I.mu,I,U)),U.subscribe("sessionFailed",()=>cdY(I,U)),U.B?
I.publish("yt-remote-cast2-session-change",U.B):t&&I.B.G(null)):I.publish("yt-remote-cast2-session-change",null))},Kok=function(I,U){return U?g.CQ(I.D,function(t){return cu(U,t.label)},I):null},cdY=function(I,U){I.B==U&&I.publish("yt-remote-cast2-session-failed")},Low=function(I,U,t,W){W.disableCastApi?zW("Cannot initialize because disabled by Mdx config."):$_0()?uCw(U,W)&&(Lq(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?h7f(I,t):(window.__onGCastApiAvailable=function(E,Z){E?h7f(I,t):(pq("Failed to load cast API: "+
Z),mF(!1),Lq(!1),g.Zs("yt-remote-cast-available"),g.Zs("yt-remote-cast-receiver"),SpL(),t(!1))},W.loadCastApiSetupScript?g.w_(z7k):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?Qr()>=60&&R8w():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?jj():Qr()>=89?nDL():(A0(),fH(Owx.map(bww))))):zW("Cannot initialize because not running Chrome")},SpL=function(){zW("dispose");
const I=gP();I&&I.dispose();g.DH("yt.mdx.remote.cloudview.instance_",null);pGV(!1);g.ZE(Cq);Cq.length=0},yT=function(){return!!g.Ey("yt-remote-cast-installed")},m_$=function(){const I=g.Ey("yt-remote-cast-receiver");
return I?I.friendlyName:null},g7Y=function(){zW("clearCurrentReceiver");
g.Zs("yt-remote-cast-receiver")},C86=function(){return yT()?gP()?gP().getCastSession():(pq("getCastSelector: Cast is not initialized."),null):(pq("getCastSelector: Cast API is not installed!"),null)},QT=function(){yT()?gP()?Fw()?(zW("Requesting cast selector."),gP().requestSession()):(zW("Wait for cast API to be ready to request the session."),Cq.push(g.Es("yt-remote-cast2-api-ready",QT))):pq("requestCastSelector: Cast is not initialized."):pq("requestCastSelector: Cast API is not installed!")},fq=
function(I,U){Fw()?gP().setConnectedScreenStatus(I,U):pq("setConnectedScreenStatus called before ready.")},$_0=function(){var I=g.Ct().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.BO||I},yd6=function(I,U){gP().init(I,U)},uCw=function(I,U){let t=!1;
gP()||(I=new jU(I,U),I.subscribe("yt-remote-cast2-availability-change",function(W){g.Wi("yt-remote-cast-available",W);F0("yt-remote-cast2-availability-change",W)}),I.subscribe("yt-remote-cast2-receiver-selected",function(W){zW("onReceiverSelected: "+W.friendlyName);
g.Wi("yt-remote-cast-receiver",W);F0("yt-remote-cast2-receiver-selected",W)}),I.subscribe("yt-remote-cast2-receiver-resumed",function(W){zW("onReceiverResumed: "+W.friendlyName);
g.Wi("yt-remote-cast-receiver",W);F0("yt-remote-cast2-receiver-resumed",W)}),I.subscribe("yt-remote-cast2-session-change",function(W){zW("onSessionChange: "+$k(W));
W||g.Zs("yt-remote-cast-receiver");F0("yt-remote-cast2-session-change",W)}),g.DH("yt.mdx.remote.cloudview.instance_",I),t=!0);
zW("cloudview.createSingleton_: "+t);return t},gP=function(){return g.ql("yt.mdx.remote.cloudview.instance_")},h7f=function(I,U){mF(!0);
Lq(!1);yd6(I,function(t){t?(pGV(!0),g.Hw("yt-remote-cast2-api-ready")):(pq("Failed to initialize cast API."),mF(!1),g.Zs("yt-remote-cast-available"),g.Zs("yt-remote-cast-receiver"),SpL());U(t)})},zW=function(I){e8("cloudview",I)},pq=function(I){e8("cloudview",I)},mF=function(I){zW("setCastInstalled_ "+I);
g.Wi("yt-remote-cast-installed",I)},Fw=function(){return!!g.ql("yt.mdx.remote.cloudview.apiReady_")},pGV=function(I){zW("setApiReady_ "+I);
g.DH("yt.mdx.remote.cloudview.apiReady_",I)},Lq=function(I){g.DH("yt.mdx.remote.cloudview.initializing_",I)},AN=function(I){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.T=this.G=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.D=this.V=this.J=0;this.B=NaN;this.A=!1;this.reset(I)},sl=function(I){I.audioTrackId=null;
I.trackData=null;I.playerState=-1;I.hasPrevious=!1;I.hasNext=!1;I.G=0;I.T=g.UH();I.J=0;I.V=0;I.D=0;I.loadedTime=0;I.B=NaN;I.A=!1},a1=function(I){return I.isPlaying()?(g.UH()-I.T)/1E3:0},ND=function(I,U){I.G=U;
I.T=g.UH()},JN=function(I){switch(I.playerState){case 1:case 1081:return(g.UH()-I.T)/1E3+I.G;
case -1E3:return 0}return I.G},FoY=function(I){return I.A?I.V+a1(I):I.V},o1=function(I,U,t){const W=I.videoId;
I.videoId=U;I.index=t;U!=W&&sl(I)},Xw=function(I){const U={};
U.index=I.index;U.listId=I.listId;U.videoId=I.videoId;U.playerState=I.playerState;U.volume=I.volume;U.muted=I.muted;U.audioTrackId=I.audioTrackId;U.trackData=g.w5(I.trackData);U.hasPrevious=I.hasPrevious;U.hasNext=I.hasNext;U.playerTime=I.G;U.playerTimeAt=I.T;U.seekableStart=I.J;U.seekableEnd=I.V;U.duration=I.D;U.loadedTime=I.loadedTime;U.liveIngestionTime=I.B;return U},QQ$=function(I){g.uY("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(U){this.V.push(this.A.subscribe(U,g.Pk(this.QQ,U),this))},I)},iV=function(I,U){I.J&&(I.J.removeUpdateListener(I.N),I.J.removeMediaListener(I.C),I.G(null));
I.J=U;I.J&&(b4("Setting cast session: "+I.J.sessionId),I.J.addUpdateListener(I.N),I.J.addMediaListener(I.C),I.J.media.length&&I.G(I.J.media[0]))},Yr=function(I){return new AN(I.A.getPlayerContextData())},kr=function(I){return I.getState()==1},xr=function(I,U,t){return(0,g.Ml)(function(W){this.Oi("Failed to "+U+" with cast v2 channel. Error code: "+W.code);
W.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.Oi("Retrying "+U+" using MDx browser channel."),DD(this,U,t))},I)},DD=function(I,U,t){I.A.sendMessage(U,t)},GW=function(I,U,t){const W=Yr(I);
ND(W,t);W.playerState!=-1E3&&(W.playerState=U);rP(I,W)},qD=function(I,U){var t=I.T;
t.B.length+t.J.length<50&&I.T.enqueue(U)},rP=function(I,U){f9$(I);
I.A.setPlayerContextData(Xw(U));QQ$(I)},f9$=function(I){g.uY(I.V,function(U){this.A.unsubscribeByKey(U)},I);
I.V.length=0},jQ6=function(I){const U=I.B.media,t=I.B.customData;
if(U&&t){var W=Yr(I);U.contentId!=W.videoId&&b4("Cast changing video to: "+U.contentId);W.videoId=U.contentId;W.playerState=t.playerState;ND(W,I.B.getEstimatedTime());rP(I,W)}else b4("No cast media video. Ignoring state update.")},Adk=function(I){eU("Channel opened");
I.Js&&(I.Js=!1,bV(I),I.l0=g.Ay(()=>{eU("Timing out waiting for a screen.");I.V(1)},15E3))},rdx=function(I,U){U=U.message;
U.params?eU("Received: action="+U.action+", params="+g.LU(U.params)):eU("Received: action="+U.action+" {}");switch(U.action){case "loungeStatus":U=Hu(U.params.devices);I.D=g.Sk(U,function(W){return new KH(W)});
U=!!g.CQ(I.D,function(W){return W.type=="LOUNGE_SCREEN"});
sQ0(I,U);U=I.hs("mlm");I.publish("multiStateLoopEnabled",U);break;case "loungeScreenDisconnected":g.A$(I.D,function(W){return W.type=="LOUNGE_SCREEN"});
sQ0(I,!1);break;case "remoteConnected":let t=new KH(Hu(U.params.device));g.CQ(I.D,function(W){return W.equals(t)})||L60(I.D,t);
break;case "remoteDisconnected":t=new KH(Hu(U.params.device));g.A$(I.D,function(W){return W.equals(t)});
break;case "gracefulDisconnect":break;case "playlistModified":a9x(I,U,"QUEUE_MODIFIED");break;case "nowPlaying":Nb6(I,U);break;case "onStateChange":Jd6(I,U);break;case "onAdStateChange":o7e(I,U);break;case "onVolumeChanged":XGk(I,U);break;case "onSubtitlesTrackChanged":inH(I,U);break;case "nowAutoplaying":YpH(I,U);break;case "autoplayDismissed":I.publish("autoplayDismissed");break;case "autoplayUpNext":kuY(I,U);break;case "onAutoplayModeChanged":D_H(I,U);break;case "onHasPreviousNextChanged":x_w(I,
U);break;case "requestAssistedSignIn":I.publish("assistedSignInRequested",U.params.authCode);break;case "onLoopModeChanged":I.publish("loopModeChange",U.params.loopMode);break;default:eU("Unrecognized action: "+U.action)}},eU=function(I){e8("conn",I)},Gut=function(I){I.G=g.Ay(()=>{eU("Connecting timeout");
I.V(1)},2E4)},BE=function(I,U){I.publish("proxyStateChange",U)},TW=function(I){g.ab(I.G);
I.G=NaN},R1=function(I){g.ab(I.wk);
I.wk=NaN},bV=function(I){g.ab(I.l0);
I.l0=NaN},qpw=function(I){return g.CQ(I.D,function(U){return U.type=="LOUNGE_SCREEN"})},Ol=function(I,U,t){t?eU("Sending: action="+U+", params="+g.LU(t)):eU("Sending: action="+U);
I.J.sendMessage(U,t)},e76=function(I){R1(I);
I.wk=g.Ay(()=>{Ol(I,"getNowPlaying")},2E4)},bnf=function(I){g.ab(I.N);
I.N=g.Ay(()=>{I.V(1)},864E5)},sQ0=function(I,U){var t=null;
if(U){const W=qpw(I);W&&(t={clientName:W.clientName,deviceMake:W.brand,deviceModel:W.model,osVersion:W.osVersion})}g.DH("yt.mdx.remote.remoteClient_",t);U&&(TW(I),bV(I));t=I.J.Cr()&&isNaN(I.G);U==t?U&&(BE(I,1),Ol(I,"getSubtitlesTrack")):U?(I.Rn()&&I.B.reset(),BE(I,1),Ol(I,"getNowPlaying"),bnf(I)):I.V(1)},inH=function(I,U){const t=U.params.videoId;
delete U.params.videoId;t==I.B.videoId&&(g.tD(U.params)?I.B.trackData=null:I.B.trackData=U.params,I.publish("remotePlayerChange"))},a9x=function(I,U,t){const W=U.params.videoId||U.params.video_id,E=parseInt(U.params.currentIndex,10);
I.B.listId=U.params.listId||I.B.listId;o1(I.B,W,E);I.publish("remoteQueueChange",t)},Jd6=function(I,U){var t=parseInt(U.params.currentTime||U.params.current_time,10);
ND(I.B,isNaN(t)?0:t);t=parseInt(U.params.state,10);t=isNaN(t)?-1:t;t==-1&&I.B.playerState==-1E3&&(t=-1E3);I.B.playerState=t;t=Number(U.params.loadedTime);I.B.loadedTime=isNaN(t)?0:t;I.B.Ro(Number(U.params.duration));t=I.B;var W=Number(U.params.liveIngestionTime);t.B=W;t.A=isNaN(W)?!1:!0;t=I.B;W=Number(U.params.seekableStartTime);U=Number(U.params.seekableEndTime);t.J=isNaN(W)?0:W;t.V=isNaN(U)?0:U;I.B.playerState==1?e76(I):R1(I);I.publish("remotePlayerChange")},Nb6=function(I,U){U.params=U.params||
{};
a9x(I,U,"NOW_PLAYING_MAY_CHANGE");Jd6(I,U);I.publish("autoplayDismissed")},o7e=function(I,U){if(I.B.playerState!=-1E3){var t=1085;
switch(parseInt(U.params.adState,10)){case 1:t=1081;break;case 2:t=1084;break;case 0:t=1083}I.B.playerState=t;U=parseInt(U.params.currentTime,10);ND(I.B,isNaN(U)?0:U);I.publish("remotePlayerChange")}},XGk=function(I,U){const t=U.params.muted=="true";
I.B.volume=parseInt(U.params.volume,10);I.B.muted=t;I.publish("remotePlayerChange")},YpH=function(I,U){I.U=U.params.videoId;
I.publish("nowAutoplaying",parseInt(U.params.timeout,10))},kuY=function(I,U){I.U=U.params.videoId||null;
I.publish("autoplayUpNext",I.U)},D_H=function(I,U){I.T=U.params.autoplayMode;
I.publish("autoplayModeChange",I.T);I.T=="DISABLED"&&I.publish("autoplayDismissed")},x_w=function(I,U){const t=U.params.hasNext=="true";
I.B.hasPrevious=U.params.hasPrevious=="true";I.B.hasNext=t;I.publish("previousNextChange")},OnQ=function(I,U){xEH();
if(!yr||!yr.get("yt-remote-disable-remote-module-for-dev")){U=g.r("MDX_CONFIG")||U;Jf6();gQ();nq||(nq=new x0(U?U.loungeApiHost:void 0),rfY()&&(nq.B="/api/loungedev"));VT||(VT=g.ql("yt.mdx.remote.deferredProxies_")||[],g.DH("yt.mdx.remote.deferredProxies_",VT));Bbe();var t=MD();if(!t){const E=new WE(nq,U?U.disableAutomaticScreenCache||!1:!1);g.DH("yt.mdx.remote.screenService_",E);t=MD();var W={};U&&(W={appId:U.appId,disableDial:U.disableDial,theme:U.theme,loadCastApiSetupScript:U.loadCastApiSetupScript,
disableCastApi:U.disableCastApi,enableDialLoungeToken:U.enableDialLoungeToken,enableCastLoungeToken:U.enableCastLoungeToken,forceMirroring:U.forceMirroring});g.DH("yt.mdx.remote.enableConnectWithInitialState_",U?U.enableConnectWithInitialState||!1:!1);Low(I,E,function(Z){Z?PE()&&fq(PE(),"YouTube TV"):E.subscribe("onlineScreenChange",function(){F0("yt-remote-receiver-availability-change")})},W)}U&&!g.ql("yt.mdx.remote.initialized_")&&(g.DH("yt.mdx.remote.initialized_",!0),Il("Initializing: "+g.LU(U)),
UF.push(g.Es("yt-remote-cast2-api-ready",function(){F0("yt-remote-api-ready")})),UF.push(g.Es("yt-remote-cast2-availability-change",function(){F0("yt-remote-receiver-availability-change")})),UF.push(g.Es("yt-remote-cast2-receiver-selected",function(){tb(null);
F0("yt-remote-auto-connect","cast-selector-receiver")})),UF.push(g.Es("yt-remote-cast2-receiver-resumed",function(){F0("yt-remote-receiver-resumed","cast-selector-receiver")})),UF.push(g.Es("yt-remote-cast2-session-change",Tb8)),UF.push(g.Es("yt-remote-connection-change",function(E){E?fq(PE(),"YouTube TV"):WA()||(fq(null,null),g7Y())})),UF.push(g.Es("yt-remote-cast2-session-failed",()=>{F0("yt-remote-connection-failed")})),I=EF(),U.isAuto&&(I.id+="#dial"),W=U.capabilities||[],W.length>0&&(I.capabilities=
W),I.name=U.device,I.app=U.app,(U=U.theme)&&(I.theme=U),Il(" -- with channel params: "+g.LU(I)),I?(g.Wi("yt-remote-session-app",I.app),g.Wi("yt-remote-session-name",I.name)):(g.Zs("yt-remote-session-app"),g.Zs("yt-remote-session-name")),g.DH("yt.mdx.remote.channelParams_",I),t.start(),PE()||R7k())}},n7w=function(){var I=MD().dQ.$_gos();
const U=Zg();U&&HA()&&(Sj(I,U)||I.push(U));return NyV(I)},w$=function(){let I=VYY();
!I&&yT()&&m_$()&&(I={key:"cast-selector-receiver",name:m_$()});return I},VYY=function(){const I=n7w();
let U=Zg();U||(U=WA());return g.CQ(I,function(t){return U&&cu(U,t.key)?!0:!1})},Zg=function(){const I=PE();
if(!I)return null;const U=MD().dj();return zs(U,I)},Tb8=function(I){Il("remote.onCastSessionChange_: "+$k(I));
if(I){var U=Zg();if(U&&U.id==I.id){if(fq(U.id,"YouTube TV"),I.idType=="shortLived"&&(I=I.token))li&&(li.token=I),(U=HA())&&U.wp(I)}else U&&d$(),Kl(I,1)}else HA()&&d$()},d$=function(){Fw()?gP().stopSession():pq("stopSession called before API ready.");
const I=HA();I&&(I.disconnect(1),vA(null))},cA=function(){const I=HA();
return!!I&&I.getProxyState()!=3},Il=function(I){e8("remote",I)},MD=function(){if(!$t){const I=g.ql("yt.mdx.remote.screenService_");
$t=I?new MY0(I):null}return $t},PE=function(){return g.ql("yt.mdx.remote.currentScreenId_")},P8H=function(I){g.DH("yt.mdx.remote.currentScreenId_",I)},IwY=function(){return g.ql("yt.mdx.remote.connectData_")},tb=function(I){g.DH("yt.mdx.remote.connectData_",I)},HA=function(){return g.ql("yt.mdx.remote.connection_")},vA=function(I){const U=HA();
tb(null);I||P8H("");g.DH("yt.mdx.remote.connection_",I);VT&&(g.uY(VT,function(t){t(I)}),VT.length=0);
U&&!I?F0("yt-remote-connection-change",!1):!U&&I&&F0("yt-remote-connection-change",!0)},WA=function(){const I=g.Hi();
if(!I)return null;var U=MD();if(!U)return null;U=U.dj();return zs(U,I)},Kl=function(I,U){PE();
Zg()&&Zg();if(ui)li=I;else{P8H(I.id);var t=g.ql("yt.mdx.remote.enableConnectWithInitialState_")||!1;I=new Sg(I,t);I.connect(U,IwY());I.subscribe("beforeDisconnect",function(W){F0("yt-remote-before-disconnect",W)});
I.subscribe("beforeDispose",function(){HA()&&(HA(),vA(null))});
I.subscribe("browserChannelAuthError",()=>{const W=Zg();W&&W.idType=="shortLived"&&(Fw()?gP().handleBrowserChannelAuthError():pq("refreshLoungeToken called before API ready."))});
vA(I)}},R7k=function(){const I=WA();
I?(Il("Resume connection to: "+$k(I)),Kl(I,0)):(CH(),g7Y(),Il("Skipping connecting because no session screen found."))},Bbe=function(){var I=EF();
if(g.tD(I)){I=mp();var U=g.Ey("yt-remote-session-name")||"";const t=g.Ey("yt-remote-session-app")||"";I={device:"REMOTE_CONTROL",id:I,name:U,app:t,mdxVersion:3};I.authuser=String(g.r("SESSION_INDEX","0"));(U=g.r("DELEGATED_SESSION_ID"))&&(I.pageId=String(U));g.DH("yt.mdx.remote.channelParams_",I)}},EF=function(){return g.ql("yt.mdx.remote.channelParams_")||{}},UAe=function(I,U){if(z7(I)){I.ov.unsubscribe("remotePlayerChange",I.T,I);
const t=Math.round(U.volume);U=!!U.muted;const W=Yr(I.ov);if(t!==W.volume||U!==W.muted)I.ov.setVolume(t,U),I.N.start();I.ov.subscribe("remotePlayerChange",I.T,I)}},z7=function(I){return Yr(I.ov).videoId===Ll(I).videoId},pl=function(I,U){let t,W;
var E=I.Z.getPlaylist();E?.listId&&(t=E.index,W=E.listId.toString());E=Ll(I);I.ov.playVideo(E.videoId,U,t,W,E.playerParams,E.on,z8f(E));I.Ft(new g.eu(1))},ms=function(I,U){if(z7(I)&&!I.G){let t=null;
U&&(t={style:I.Z.getSubtitlesUserSettings()},Object.assign(t,U));I.ov.U(Ll(I).videoId,t);I.A=Yr(I.ov).trackData}},tFY=function(I,U){if(U){const t=I.Z.getOption("captions","tracklist",{qU:1});
t&&t.length?(I.Z.setOption("captions","track",U),I.G=!1):(I.Z.loadModule("captions"),I.G=!0)}else I.Z.setOption("captions","track",{})},WSw=function(I){I.h3(0);
I.J.stop();I.Ft(new g.eu(64))},Ll=function(I){return I.Z.getVideoData({playerType:1})},ESL=function(I){const U=I.player.S();
return!U.K("mdx_enable_privacy_disclosure_ui")||I.isLoggedIn()||I.aI||!I.gL?!1:g.Ut(U)||g.Et(U)},Z_w=function(I,U,t){I.LK=t;
I.player.publish("presentingplayerstatechange",new g.IH(t,U))},g$=function(I,U,...t){I.loaded&&I.R2.NE(U,...t)},Cl=function(I){I.II&&(I.player.removeEventListener("presentingplayerstatechange",I.II),I.II=null)},yZ=function(I,U){if(U.key!==I.Px.key)if(U.key===I.eJ.key)d$();
else if(ESL(I)&&H_k(I),I.Px=U,!g.TD(I.player.S())){{const Z=I.player.getPlaylistId();var t=I.player.getVideoData({playerType:1});const H=t.videoId;if(!Z&&!H||(I.player.getAppState()===2||I.player.getAppState()===1)&&I.player.S().K("should_clear_video_data_on_player_cued_unstarted"))t=null;else{var W=I.player.getPlaylist();if(W){var E=[];for(let w=0;w<W.length;w++)E[w]=g.zx(W,w).videoId}else E=[H];W=I.player.getCurrentTime(1);I={videoIds:E,listId:Z,videoId:H,playerParams:t.playerParams,clickTrackingParams:t.on,
index:Math.max(I.player.getPlaylistIndex(),0),currentTime:W===0?void 0:W};(t=z8f(t))&&(I.locationInfo=t);t=I}}Il("Connecting to: "+g.LU(U));U.key=="cast-selector-receiver"?(tb(t||null),U=t||null,Fw()?gP().setLaunchParams(U):pq("setLaunchParams called before ready.")):!t&&cA()&&PE()==U.key?F0("yt-remote-connection-change",!0):(d$(),tb(t||null),t=MD().dj(),(U=zs(t,U.key))&&Kl(U,1))}},H_k=function(I){I.player.getPlayerStateObject().isPlaying()?I.player.pauseVideo():(I.II=U=>{!I.aI&&U.dS(8)&&(I.player.pauseVideo(),
Cl(I))},I.player.addEventListener("presentingplayerstatechange",I.II));
I.gL&&I.gL.pL();HA()||(ui=!0)};
g.nX.prototype.kJ=g.jA(46,function(){this.app.GR().kJ()});
g.a9.prototype.kJ=g.jA(45,function(){this.Nu=null});
g.nX.prototype.nj=g.jA(44,function(I){this.app.GR().nj(I)});
g.a9.prototype.nj=g.jA(43,function(I){this.Nu=I});
g.bM.prototype.KQ=g.jA(1,function(){return g.lj(this,3)});
g.ZP.prototype.KQ=g.jA(0,function(){return g.lj(this,11)});
var waw=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/channel/opened",g.fn("channel_type"))}B(I){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/channel/opened",I)}},lKx=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/channel/closed",g.fn("channel_type"))}B(I){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/channel/closed",I)}},KT8=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.fn("channel_type"))}B(I){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/channel/message_received",I)}},dPY=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/channel/success")}B(){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/channel/success")}},vv$=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/channel/error",g.fn("channel_type"),g.fn("error_type"))}B(I,U){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/channel/error",
I,U)}},c3e=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}B(){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},$Px=class{constructor(){var I=g.nf();this.J=I;g.lg(I,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}B(){g.cR(this.J,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.F=lU.prototype;
g.F.Io=function(){dQ(this);const I=[];for(let U=0;U<this.B.length;U++)I.push(this.J[this.B[U]]);return I};
g.F.jd=function(){dQ(this);return this.B.concat()};
g.F.has=function(I){return wQ(this.J,I)};
g.F.equals=function(I,U){if(this===I)return!0;if(this.size!=I.size)return!1;U=U||C1t;dQ(this);let t;for(let W=0;t=this.B[W];W++)if(!U(this.get(t),I.get(t)))return!1;return!0};
g.F.isEmpty=function(){return this.size==0};
g.F.clear=function(){this.J={};this.Wt=this.size=this.B.length=0};
g.F.remove=function(I){return this.delete(I)};
g.F.delete=function(I){return wQ(this.J,I)?(delete this.J[I],--this.size,this.Wt++,this.B.length>2*this.size&&dQ(this),!0):!1};
g.F.get=function(I,U){return wQ(this.J,I)?this.J[I]:U};
g.F.set=function(I,U){wQ(this.J,I)||(this.size+=1,this.B.push(I),this.Wt++);this.J[I]=U};
g.F.forEach=function(I,U){const t=this.jd();for(let W=0;W<t.length;W++){const E=t[W],Z=this.get(E);I.call(U,Z,E,this)}};
g.F.clone=function(){return new lU(this)};
g.F.keys=function(){return g.hv(this.Vf(!0)).B()};
g.F.values=function(){return g.hv(this.Vf(!1)).B()};
g.F.entries=function(){const I=this;return gDY(this.keys(),function(U){return[U,I.get(U)]})};
g.F.Vf=function(I){dQ(this);let U=0;const t=this.Wt,W=this,E=new g.y2;E.next=function(){if(t!=W.Wt)throw Error("The map has changed since the iterator was created");if(U>=W.B.length)return g.XU;const Z=W.B[U++];return g.FK(I?Z:W.J[Z])};
return E};
var fAQ={iq:"atp",pKk:"ska",lKk:"que",s_:"mus",WuK:"sus",dt:"dsp",Hln:"seq",U_:"mic",zp:"dpa",P0:"mlm",aq:"dsdtr",oh:"ntb",K_A:"vsp",Q_:"scn",vAQ:"rpe",jC:"dcn",CA:"dcp",Tq:"pas",Iq:"drq",e0:"opf",Ab:"els",DM:"isg",nA0:"svq",I5:"mvp",Uj:"ads",ddu:"stcp",qJA:"sads",Pq:"dloc",BY:"dcw",SA:"asw",Lg:"apw",W6:"wrc",UI:"pcw",mJ:"ipv",b1:"ndt",Gp:"ctops",jl:"gsrm"},jKV={n$4:"u",DB:"cl",eS:"k",h5:"i",Yp:"cr",a5:"m",cY:"g",zH:"up"},ho6={V7:"adPlaying",cP:"onAdStateChange"},S7L={wP:"nowPlaying",yB:"onStateChange",
V7:"adPlaying",cP:"onAdStateChange",Vp:"nowPlayingShorts",UB:"onShortsStateChange"},zok={Vp:"nowPlayingShorts",UB:"onShortsStateChange"};KH.prototype.equals=function(I){return I?this.id==I.id:!1};
var pH="",yr=null,TyH=GSH("loadCastFramework")||GSH("loadCastApplicationFramework"),Owx=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.Ht(si,g.ZW);g.F=si.prototype;g.F.bV=function(I){this.A=arguments;this.B=!1;this.WL?this.D=g.UH()+this.Se:this.WL=g.WR(this.T,this.Se)};
g.F.stop=function(){this.WL&&(g.k5.clearTimeout(this.WL),this.WL=null);this.D=null;this.B=!1;this.A=[]};
g.F.pause=function(){++this.J};
g.F.resume=function(){this.J&&(--this.J,!this.J&&this.B&&(this.B=!1,this.G.apply(null,this.A)))};
g.F.b0=function(){this.stop();si.Sz.b0.call(this)};
g.F.lV=function(){this.WL&&(g.k5.clearTimeout(this.WL),this.WL=null);this.D?(this.WL=g.WR(this.T,this.D-g.UH()),this.D=null):this.J?this.B=!0:(this.B=!1,this.G.apply(null,this.A))};var N7=null;aC.prototype.set=function(I){this.B=I};
aC.prototype.reset=function(){this.set(g.UH())};
aC.prototype.get=function(){return this.B};g.Ht(MPH,VPk);var Eu=class{stringify(I){return g.k5.JSON.stringify(I,void 0)}parse(I){return g.k5.JSON.parse(I,void 0)}};g.Ht(J0,g.HN);g.Ht(oC,g.HN);var P1Y=null;g.Ht(IWV,g.HN);g.Ht(URt,g.HN);g.Ht(t7w,g.HN);DQ.prototype.debug=function(){};
DQ.prototype.info=function(){};
DQ.prototype.warning=function(){};var lWQ={},bU={};g.F=xk.prototype;g.F.setTimeout=function(I){this.Md=I};
g.F.k9=function(I){I=I.target;const U=this.Rn;U&&g.aW(I)==3?U.A():this.xf(I)};
g.F.xf=function(I){try{if(I==this.B)a:{const E=g.aW(this.B),Z=this.B.J,H=this.B.getStatus();if(!(E<3)&&(E!=3||this.B&&(this.J.J||g.oW(this.B)||g.X6(this.B)))){this.Js||E!=4||Z==7||(Z==8||H<=0?iU(3):iU(2));Bu(this);var U=this.B.getStatus();this.PK=U;var t=wWL(this);if(this.G=U==200){if(this.Nd&&!this.QQ){b:{if(this.B){const w=g.Y8(this.B,"X-HTTP-Initial-Response");if(w&&!g.zJ(w)){var W=w;break b}}W=null}if(I=W)this.QQ=!0,Uu(this,I);else{this.G=!1;this.T=3;Yk(12);q7(this);ej(this);break a}}if(this.l0){I=
!0;let w;for(;!this.Js&&this.V<t.length;)if(w=dRL(this,t),w==bU){E==4&&(this.T=4,Yk(14),I=!1);break}else if(w==lWQ){this.T=4;Yk(15);I=!1;break}else Uu(this,w);Hyk(this)&&this.V!=0&&(this.J.B=this.J.B.slice(this.V),this.V=0);E!=4||t.length!=0||this.J.J||(this.T=1,Yk(16),I=!1);this.G=this.G&&I;I?t.length>0&&!this.dk&&(this.dk=!0,this.D.mz(this)):(q7(this),ej(this))}else Uu(this,t);E==4&&q7(this);this.G&&!this.Js&&(E==4?vLw(this.D,this):(this.G=!1,Gs(this)))}else g.ig(this.B),U==400&&t.indexOf("Unknown SID")>
0?(this.T=3,Yk(12)):(this.T=0,Yk(13)),q7(this),ej(this)}}}catch(E){}finally{}};
g.F.cancel=function(){this.Js=!0;q7(this)};
g.F.vP=function(){this.mu=null;const I=Date.now();I-this.UJ>=0?(this.yQ!=2&&(iU(3),Yk(17)),q7(this),this.T=2,ej(this)):K$L(this,this.UJ-I)};
g.F.getLastError=function(){return this.T};
g.F.Xf=function(){return this.B};var wNf=class{constructor(I,U){this.B=I;this.map=U;this.context=null}};hSV.prototype.cancel=function(){this.D=tk(this);if(this.J)this.J.cancel(),this.J=null;else if(this.B&&this.B.size!==0){for(const I of this.B.values())I.cancel();this.B.clear()}};g.F=mRx.prototype;g.F.Kh=8;g.F.V$=1;g.F.connect=function(I,U,t,W){Yk(0);this.Gk=I;this.Js=U||{};t&&W!==void 0&&(this.Js.OSID=t,this.Js.OAID=W);this.Rn=this.k$;this.u0=cJt(this,null,this.Gk);I7(this)};
g.F.disconnect=function(){gLt(this);if(this.V$==3){var I=this.hs++,U=this.u0.clone();g.MM(U,"SID",this.A);g.MM(U,"RID",I);g.MM(U,"TYPE","terminate");wC(this,U);I=new xk(this,this.A,I);I.yQ=2;I.U=Wu(U.clone());U=!1;if(g.k5.navigator&&g.k5.navigator.sendBeacon)try{U=g.k5.navigator.sendBeacon(I.U.toString(),"")}catch{}!U&&g.k5.Image&&((new Image).src=I.U,U=!0);U||(I.B=Zyw(I.D,null),I.B.send(I.U));I.on=Date.now();Gs(I)}j4t(this)};
g.F.Mm=function(){return this.V$==0};
g.F.getState=function(){return this.V$};
g.F.VP=function(I){if(this.G)if(this.G=null,this.V$==1){if(!I){this.hs=Math.floor(Math.random()*1E5);I=this.hs++;const E=new xk(this,"",I);let Z=this.C;this.Nd&&(Z?(Z=g.Hq(Z),g.d5(Z,this.Nd)):Z=this.Nd);this.V!==null||this.UJ||(E.u0=Z,Z=null);if(this.j6)a:{var U=0;for(var t=0;t<this.D.length;t++){b:{var W=this.D[t];if("__data__"in W.map&&(W=W.map.__data__,typeof W==="string")){W=W.length;break b}W=void 0}if(W===void 0)break;U+=W;if(U>4096){U=t;break a}if(U===4096||t===this.D.length-1){U=t+1;break a}}U=
this.iU}else U=this.iU;U=F$Y(this,E,U);t=this.u0.clone();g.MM(t,"RID",I);g.MM(t,"CVER",22);this.l0&&g.MM(t,"X-HTTP-Session-Id",this.l0);wC(this,t);Z&&(this.UJ?U="headers="+g.LW(g.WD(Z))+"&"+U:this.V&&g.EV(t,this.V,Z));Pu(this.J,E);this.pK&&g.MM(t,"TYPE","init");this.j6?(g.MM(t,"$req",U),g.MM(t,"SID","null"),E.Nd=!0,rQ(E,t,null)):rQ(E,t,U);this.V$=2}}else this.V$==3&&(I?Q4x(this,I):this.D.length==0||S3V(this.J)||Q4x(this))};
g.F.qn=function(){this.U=null;fW0(this);if(this.RF&&!(this.Md||this.B==null||this.SN<=0)){var I=4*this.SN;this.wk=kk((0,g.Ml)(this.zw,this),I)}};
g.F.zw=function(){this.wk&&(this.wk=null,this.Rn=!1,this.Md=!0,Yk(10),Oi(this),fW0(this))};
g.F.mz=function(I){this.B==I&&this.RF&&!this.Md&&(H6(this),this.Md=!0,Yk(11))};
g.F.JT=function(){this.mu!=null&&(this.mu=null,Oi(this),nH(this),Yk(19))};
g.F.dB=function(I){I?Yk(2):Yk(1)};
g.F.isActive=function(){return!!this.T&&this.T.isActive(this)};
g.F=s4Q.prototype;g.F.SF=function(){};
g.F.Lh=function(){};
g.F.Ua=function(){};
g.F.Yf=function(){};
g.F.isActive=function(){return!0};
g.F.yp=function(){};g.Ht(dC,g.f_);dC.prototype.open=function(){this.B.T=this.D;this.V&&(this.B.QQ=!0);this.B.connect(this.G,this.J||void 0)};
dC.prototype.close=function(){this.B.disconnect()};
dC.prototype.send=function(I){var U=this.B;if(typeof I==="string"){var t={};t.__data__=I;I=t}else this.T&&(t={},t.__data__=g.LU(I),I=t);U.D.push(new wNf(U.DU++,I));U.V$==3&&I7(U)};
dC.prototype.b0=function(){this.B.T=null;delete this.D;this.B.disconnect();delete this.B;dC.Sz.b0.call(this)};
g.Ht(NBe,J0);g.Ht(JJV,oC);g.Ht(l4,s4Q);l4.prototype.SF=function(){this.B.dispatchEvent("m")};
l4.prototype.Lh=function(I){this.B.dispatchEvent(new NBe(I))};
l4.prototype.Ua=function(I){this.B.dispatchEvent(new JJV(I))};
l4.prototype.Yf=function(){this.B.dispatchEvent("n")};
dC.prototype.A=function(){return new KL(this,this.B)};
KL.prototype.J=function(){return Vr(this.B.J)};
KL.prototype.D=function(){return AJ$(this.B).map(I=>{var U=this.A;I=I.map;"__data__"in I?(I=I.__data__,U=U.T?pl8(I):I):U=I;return U})};
KL.prototype.commit=function(I){this.B.PK=I};var c6=new g.f_,oLw=class extends g.HN{constructor(){super("statevent",c6)}};g.F=u4.prototype;g.F.N1=null;g.F.Xq=!1;g.F.Z7=null;g.F.Dy=null;g.F.IH=null;g.F.WU=null;g.F.ji=null;g.F.SW=null;g.F.dU=null;g.F.vG=null;g.F.jW=0;g.F.sZ=null;g.F.gf=null;g.F.Hl=null;g.F.Pr=-1;g.F.OR=!0;g.F.C8=!1;g.F.uN=0;g.F.Lt=null;var Y3w={},zV={};g.F=u4.prototype;g.F.setTimeout=function(I){this.J=I};
g.F.uV=function(I){I=I.target;const U=this.Lt;U&&g.aW(I)==3?U.A():this.Wi(I)};
g.F.Wi=function(I){try{if(I==this.vG)a:{const U=g.aW(this.vG),t=this.vG.J,W=this.vG.getStatus();if(g.v9&&!g.kE("420+")){if(U<4)break a}else if(U<3||U==3&&!g.oW(this.vG))break a;this.C8||U!=4||t==7||(t==8||W<=0?this.B.ST(3):this.B.ST(2));xRw(this);const E=this.vG.getStatus();this.Pr=E;const Z=g.oW(this.vG);if(this.Xq=E==200){U==4&&pL(this);if(this.l0){for(I=!0;!this.C8&&this.jW<Z.length;){const H=kox(this,Z);if(H==zV){U==4&&(this.Hl=4,$0(),I=!1);break}else if(H==Y3w){this.Hl=4;$0();I=!1;break}else rJ6(this,
H)}U==4&&Z.length==0&&(this.Hl=1,$0(),I=!1);this.Xq=this.Xq&&I;I||(pL(this),LL(this))}else rJ6(this,Z);this.Xq&&!this.C8&&(U==4?this.B.Qu(this):(this.Xq=!1,S8(this)))}else this.Hl=E==400&&Z.indexOf("Unknown SID")>0?3:0,$0(),pL(this),LL(this)}}catch(U){}finally{}};
g.F.cancel=function(){this.C8=!0;pL(this)};
g.F.rh=function(){this.Z7=null;const I=Date.now();I-this.Dy>=0?(this.WU!=2&&this.B.ST(3),pL(this),this.Hl=2,$0(),LL(this)):DRt(this,this.Dy-I)};
g.F.getLastError=function(){return this.Hl};g.F=eSL.prototype;g.F.f7=null;g.F.c8=null;g.F.GN=!1;g.F.R4=null;g.F.xQ=null;g.F.iC=-1;g.F.Ct=null;g.F.A4=null;g.F.connect=function(I){this.R4=I;I=gC(this.B,null,this.R4);$0();Date.now();const U=this.B.C;U!=null?(this.Ct=U[0],(this.A4=U[1])?(this.xQ=1,byt(this)):(this.xQ=2,yH(this))):(Ei(I,"MODE","init"),this.c8=new u4(this),this.c8.N1=this.f7,hk(this.c8,I,!1,null,!0),this.xQ=0)};
g.F.Lc=function(I){if(I)this.xQ=2,yH(this);else{$0();var U=this.B;U.M_=U.pv.iC;Jk(U,9)}I&&this.ST(2)};
g.F.AA=function(I){return this.B.AA(I)};
g.F.abort=function(){this.c8&&(this.c8.cancel(),this.c8=null);this.iC=-1};
g.F.Mm=function(){return!1};
g.F.gX=function(I,U){this.iC=I.Pr;if(this.xQ==0)if(U){try{var t=this.J.parse(U)}catch(W){I=this.B;I.M_=this.iC;Jk(I,2);return}this.Ct=t[0];this.A4=t[1]}else I=this.B,I.M_=this.iC,Jk(I,2);else this.xQ==2&&(this.GN?($0(),Date.now()):U=="11111"?($0(),this.GN=!0,Date.now(),this.iC=200,this.c8.cancel(),$0(),CL(this.B,this,!0)):($0(),Date.now(),this.GN=!1))};
g.F.Qu=function(){this.iC=this.c8.Pr;if(this.c8.Xq)this.xQ==0?this.A4?(this.xQ=1,byt(this)):(this.xQ=2,yH(this)):this.xQ==2&&(this.GN?($0(),CL(this.B,this,!0)):($0(),CL(this.B,this,!1)));else{this.xQ==0?$0():this.xQ==2&&$0();var I=this.B;this.c8.getLastError();I.M_=this.iC;Jk(I,2)}};
g.F.sE=function(){return this.B.sE()};
g.F.isActive=function(){return this.B.isActive()};
g.F.ST=function(I){this.B.ST(I)};g.F=FL.prototype;g.F.KB=null;g.F.aH=null;g.F.Oq=null;g.F.W5=null;g.F.X5=null;g.F.PU=null;g.F.ph=null;g.F.TB=null;g.F.N6=0;g.F.AT=0;g.F.YX=null;g.F.tL=null;g.F.CT=null;g.F.O8=null;g.F.pv=null;g.F.Lm=null;g.F.M3=-1;g.F.jF=-1;g.F.M_=-1;g.F.GM=0;g.F.h6=0;g.F.zC=8;var lwt={OK:0,uen:2,G0:4,FV:5,MNd:6,STOP:7,qJ:8,ND:9,Pn:10,sy:11,g7:12};g.Ht(TBY,g.HN);g.Ht(RSw,g.HN);g.F=FL.prototype;
g.F.connect=function(I,U,t,W,E){$0();this.X5=U;this.aH=t||{};W&&E!==void 0&&(this.aH.OSID=W,this.aH.OAID=E);this.U?(v6((0,g.Ml)(this.IX,this,I),100),Oyt(this)):this.IX(I)};
g.F.disconnect=function(){nL$(this);if(this.B==3){var I=this.N6++;const U=this.PU.clone();g.MM(U,"SID",this.A);g.MM(U,"RID",I);g.MM(U,"TYPE","terminate");a7(this,U);I=new u4(this,this.A,I);I.WU=2;I.ji=Wu(U.clone());(new Image).src=I.ji.toString();I.IH=Date.now();S8(I)}WTe(this)};
g.F.IX=function(I){this.pv=new eSL(this);this.pv.f7=this.KB;this.pv.J=this.T;this.pv.connect(I)};
g.F.Mm=function(){return this.B==0};
g.F.getState=function(){return this.B};
g.F.Pi=function(I){this.tL=null;Pkw(this,I)};
g.F.Ch=function(){this.CT=null;this.W5=new u4(this,this.A,"rpc",this.V);this.W5.N1=this.KB;this.W5.uN=0;var I=this.ph.clone();g.MM(I,"RID","rpc");g.MM(I,"SID",this.A);g.MM(I,"CI",this.Lm?"0":"1");g.MM(I,"AID",this.M3);a7(this,I);g.MM(I,"TYPE","xmlhttp");hk(this.W5,I,!0,this.TB,!1)};
g.F.gX=function(I,U){if(this.B!=0&&(this.W5==I||this.Oq==I))if(this.M_=I.Pr,this.Oq==I&&this.B==3)if(this.zC>7){try{var t=this.T.parse(U)}catch(W){t=null}if(Array.isArray(t)&&t.length==3)if(I=t,I[0]==0)a:{if(!this.CT){if(this.W5)if(this.W5.IH+3E3<this.Oq.IH)fL(this),this.W5.cancel(),this.W5=null;else break a;N6(this);$0()}}else this.jF=I[1],0<this.jF-this.M3&&I[2]<37500&&this.Lm&&this.h6==0&&!this.O8&&(this.O8=v6((0,g.Ml)(this.Qp,this),6E3));else Jk(this,11)}else U!="y2f%"&&Jk(this,11);else if(this.W5==
I&&fL(this),!g.zJ(U))for(I=this.T.parse(U),U=0;U<I.length;U++)t=I[U],this.M3=t[0],t=t[1],this.B==2?t[0]=="c"?(this.A=t[1],this.TB=t[2],t=t[3],t!=null?this.zC=t:this.zC=6,this.B=3,this.YX&&this.YX.Nn(),this.ph=gC(this,this.sE()?this.TB:null,this.X5),IKf(this)):t[0]=="stop"&&Jk(this,7):this.B==3&&(t[0]=="stop"?Jk(this,7):t[0]!="noop"&&this.YX&&this.YX.au(t),this.h6=0)};
g.F.Qp=function(){this.O8!=null&&(this.O8=null,this.W5.cancel(),this.W5=null,N6(this),$0())};
g.F.Qu=function(I){if(this.W5==I){fL(this);this.W5=null;var U=2}else if(this.Oq==I)this.Oq=null,U=1;else return;this.M_=I.Pr;if(this.B!=0)if(I.Xq)if(U==1){U=I.dU?I.dU.length:0;I=Date.now()-I.IH;var t=c6;t.dispatchEvent(new TBY(t,U,I,this.GM));QH(this);this.YX&&this.YX.dX(this,this.D);this.D.length=0}else IKf(this);else{t=I.getLastError();var W;if(!(W=t==3||t==7||t==0&&this.M_>0)){if(W=U==1)this.Oq||this.tL||this.B==1||this.GM>=2?W=!1:(this.tL=v6((0,g.Ml)(this.Pi,this,I),UPt(this,this.GM)),this.GM++,
W=!0);W=!(W||U==2&&N6(this))}if(W)switch(t){case 1:Jk(this,5);break;case 4:Jk(this,10);break;case 3:Jk(this,6);break;case 7:Jk(this,12);break;default:Jk(this,2)}}};
g.F.Di=function(I){if(!g.Fe(arguments,this.B))throw Error("Unexpected channel state: "+this.B);};
g.F.N0=function(I){I?$0():($0(),t58(this,8))};
g.F.AA=function(I){if(I)throw Error("Can't create secondary domain capable XhrIo object.");I=new g.F6;I.V=!1;return I};
g.F.isActive=function(){return!!this.YX&&this.YX.isActive(this)};
g.F.ST=function(I){const U=c6;U.dispatchEvent(new RSw(U,I))};
g.F.sE=function(){return!1};
new MPH;g.F=Evw.prototype;g.F.Nn=function(){};
g.F.au=function(){};
g.F.dX=function(){};
g.F.Iu=function(){};
g.F.tA=function(){};
g.F.zb=function(){return{}};
g.F.isActive=function(){return!0};g.F=ZOV.prototype;g.F.enqueue=function(I){this.J.push(I)};
g.F.isEmpty=function(){return this.B.length===0&&this.J.length===0};
g.F.clear=function(){this.B=[];this.J=[]};
g.F.contains=function(I){return g.Fe(this.B,I)||g.Fe(this.J,I)};
g.F.remove=function(I){{var U=this.B;const t=Array.prototype.lastIndexOf.call(U,I,U.length-1);t>=0?(g.fQ(U,t),U=!0):U=!1}return U||g.jk(this.J,I)};
g.F.Io=function(){const I=[];for(var U=this.B.length-1;U>=0;--U)I.push(this.B[U]);U=this.J.length;for(let t=0;t<U;++t)I.push(this.J[t]);return I};var dAe=class extends g.HN{constructor(I){super("channelMessage");this.message=I}},KSV=class extends g.HN{constructor(I){super("channelError");this.error=I}};g.Ht(o7,g.ZW);g.F=o7.prototype;g.F.Zj=function(){this.retryCount++;this.Se=Math.min(3E5,this.Se*2);this.J();this.X1&&this.start()};
g.F.KQ=function(){return this.retryCount};
g.F.start=function(){const I=this.Se+15E3*Math.random();this.B.cL(I);this.X1=Date.now()+I};
g.F.stop=function(){this.B.stop();this.X1=0};
g.F.isActive=function(){return this.B.isActive()};
g.F.reset=function(){this.B.stop();this.retryCount=0;this.Se=5E3};g.Ht(XL,Evw);g.F=XL.prototype;g.F.subscribe=function(I,U,t){return this.U.subscribe(I,U,t)};
g.F.unsubscribe=function(I,U,t){return this.U.unsubscribe(I,U,t)};
g.F.KX=function(I){return this.U.KX(I)};
g.F.publish=function(I,U){return this.U.publish.apply(this.U,arguments)};
g.F.dispose=function(){this.C||(this.C=!0,g.WW(this.U),this.disconnect(),g.WW(this.J),this.J=null,this.u0=()=>"",this.QQ=()=>g.xS({}))};
g.F.Xe=function(){return this.C};
g.F.connect=async function(I,U,t){try{this.V&&await this.T}finally{if(this.C||this.B&&this.B.getState()==2&&!this.D)return;this.l0="";this.D||this.J.stop();this.N=I||null;this.mu=U||0;const W=this.Rn+"/test",E=this.Rn+"/bind";I=new FL(t?t.firstTestResults:null,t?t.secondTestResults:null,this.oF);const Z=this.B;Z&&(Z.YX=null);I.YX=this;this.B=I;if(this.V)return this.T=k0(this).then(()=>uZ6(this,W,E,Z,t)),this.T.then(()=>{this.T=g.xS()});
uZ6(this,W,E,Z,t)}};
g.F.disconnect=function(I){try{this.V&&(this.T.cancel(),this.T=g.xS())}finally{this.wk=I||0,this.J&&this.J.stop(),i4(this),this.B&&(this.B.getState()==3&&Pkw(this.B),this.B.disconnect()),this.wk=0}};
g.F.sendMessage=async function(I,U){try{this.V&&await this.T}finally{if(this.C)return;const t={_sc:I};U&&g.d5(t,U);if(this.J.isActive()||(this.B?this.B.getState():0)==2)this.A.push(t);else if(this.Cr())try{this.V&&!LT6(this,I)&&await k0(this)}finally{this.Cr()&&(LT6(this,I)||Y0(this),i4(this),j8(this.B,t))}}};
g.F.Nn=function(){this.G&&this.J&&this.J.KQ()>0&&(this.G.BQJ(this.J.KQ(),this.D,!0),this.G.oUQ());this.G&&this.G.q5K();this.D?(this.J.stop(),g.WW(this.J),this.J=new o7(this.pG,this),this.D=!1):this.J.reset();this.N=null;this.mu=0;if(this.A.length)if(this.V)pa0(this);else{var I=this.A;this.A=[];var U=I.length;Y0(this);for(let t=0;t<U;++t)j8(this.B,I[t]);Dv(this);Dv(this)}else Dv(this)};
g.F.Iu=function(I){var U=I==2&&this.B.M_==401;I==4||U||(this.D&&!this.J.isActive()&&(g.WW(this.J),this.J=new o7(this.pG,this),this.D=!1),this.J.start());this.publish("handlerError",I,U);U=Object.keys(lwt).find(t=>lwt[t]===I);
this.qd.B("BROWSER_CHANNEL",U??"UNKNOWN")};
g.F.tA=function(I,U){if(!this.J.isActive())this.publish("handlerClosed");else if(U){const t=U.length;for(let W=0;W<t;++W){const E=U[W].map;E&&this.A.push(E)}}this.hs.B("BROWSER_CHANNEL");I&&g.d2(this.RF.J,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",I.length);U&&g.d2(this.SN.J,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",U.length)};
g.F.dX=function(I,U){U!=null&&I!=null&&this.j6.B()};
g.F.zb=function(){const I={v:2};this.l0&&(I.gsessionid=this.l0);this.mu!=0&&(I.ui=""+this.mu);this.wk!=0&&(I.ui=""+this.wk);this.N&&g.d5(I,this.N);return I};
g.F.au=function(I){I[0]=="S"?this.l0=I[1]:I[0]=="gracefulReconnect"?(this.J.start(),this.B.disconnect()):this.publish("handlerMessage",new HOx(I[0],I[1]));this.Md.B("BROWSER_CHANNEL")};
g.F.Cr=function(){return!!this.B&&this.B.getState()==3};
g.F.wp=function(I){(this.on.loungeIdToken=I)||this.J.stop();if(this.Gk&&this.B){const U=this.B.KB||{};I?U["X-YouTube-LoungeId-Token"]=I:delete U["X-YouTube-LoungeId-Token"];this.B.KB=U}};
g.F.getDeviceId=function(){return this.on.id};
g.F.rD=function(){return this.J.isActive()?this.J.X1-Date.now():NaN};
g.F.gw=function(){var I=this.J;g.BD(I.B);I.start()};
g.F.pG=function(){this.J.isActive();V7w(this.B)==0&&this.connect(this.N,this.mu)};x0.prototype.sendRequest=function(I,U,t,W,E,Z,H){I={format:Z?"RAW":"JSON",method:I,context:this,timeout:5E3,withCredentials:!!H,onSuccess:g.Pk(this.A,W,!Z),onError:g.Pk(this.D,E),onTimeout:g.Pk(this.T,E)};t&&(I.postParams=t,I.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.x9(U,I)};
x0.prototype.A=function(I,U,t,W){U?I(W):I({text:t.responseText})};
x0.prototype.D=function(I,U){I(Error("Request error: "+U.status))};
x0.prototype.T=function(I){I(Error("request timed out"))};var QuL=class extends g.f_{constructor(I,U){super();this.handler=I();this.handler.subscribe("handlerOpened",this.B,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(t,W)=>{this.onError(W)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.J=U}connect(I,U,t){this.handler.connect(I,U,t)}disconnect(I){this.handler.disconnect(I)}gw(){this.handler.gw()}getDeviceId(){return this.handler.getDeviceId()}rD(){return this.handler.rD()}Cr(){return this.handler.Cr()}B(){this.dispatchEvent("channelOpened");var I=this.handler,U=this.J;g.Wi("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!I.B.Lm,sessionId:I.B.A,arrayId:I.B.M3});g.Wi("yt-remote-session-screen-id",
U);I=LH();U=mp();g.Fe(I,U)||I.push(U);XlH(I);gQ()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(I){this.dispatchEvent(new dAe(I))}onError(I){this.dispatchEvent(new KSV(I?1:0))}sendMessage(I,U){this.handler.sendMessage(I,U)}wp(I){this.handler.wp(I)}dispose(){this.handler.dispose()}};var FTQ=class{constructor(I,U,t=()=>""){new aWx;
var W=new g.yx;this.pathPrefix=I;this.B=U;this.on=t;this.T=W;this.U=null;this.C=this.V=0;this.channel=null;this.G=0;this.D=new o7(()=>{this.D.isActive();this.channel?.A().J()===0&&this.connect(this.U,this.V)});
this.A={};this.J={};this.mu=!1;this.logger=null;this.N=[];this.Dq=void 0;this.u0=new waw;this.wk=new lKx;this.Js=new KT8;this.l0=new vv$}connect(I={},U=0){this.G!==2&&(this.D.stop(),this.U=I,this.V=U,GV(this),(I=g.r("ID_TOKEN"))?this.A["x-youtube-identity-token"]=I:delete this.A["x-youtube-identity-token"],this.B&&(this.J.device=this.B.device,this.J.name=this.B.name,this.J.app=this.B.app,this.J.id=this.B.id,this.B.Gw&&(this.J.mdxVersion=`${this.B.Gw}`),this.B.theme&&(this.J.theme=this.B.theme),this.B.capabilities&&
(this.J.capabilities=this.B.capabilities),this.B.mU&&(this.J.cst=this.B.mU),this.B.authuser&&(this.J.authuser=this.B.authuser),this.B.pageId&&(this.J.pageId=this.B.pageId)),this.V!==0?this.J.ui=`${this.V}`:delete this.J.ui,Object.assign(this.J,this.U),this.channel=new dC(this.pathPrefix,{L3:"gsessionid",KZ:this.A,qs:this.J}),this.channel.open(),this.G=2,CFt(this))}disconnect(I=0){this.C=I;this.D.stop();GV(this);this.channel&&(this.C!==0?this.J.ui=`${this.C}`:delete this.J.ui,this.channel.close());
this.C=0}rD(){return this.D.isActive()?this.D.X1-Date.now():NaN}gw(){var I=this.D;g.BD(I.B);I.start()}sendMessage(I,U){this.channel&&(GV(this),this.channel.send({_sc:I,...U}))}wp(I){I||this.D.stop();I?this.A["X-YouTube-LoungeId-Token"]=I:delete this.A["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.B?this.B.id:""}publish(I,...U){return this.T.publish(I,...U)}subscribe(I,U,t){return this.T.subscribe(I,U,t)}unsubscribe(I,U,t){return this.T.unsubscribe(I,U,t)}KX(I){return this.T.KX(I)}dispose(){this.mu||
(this.mu=!0,g.WW(this.T),this.disconnect(),g.WW(this.D),this.on=()=>"")}Xe(){return this.mu}};var y3x=class extends g.f_{constructor(I){super();this.B=I();this.B.subscribe("webChannelOpened",this.J,this);this.B.subscribe("webChannelClosed",this.onClosed,this);this.B.subscribe("webChannelError",this.onError,this);this.B.subscribe("webChannelMessage",this.onMessage,this)}connect(I,U){this.B.connect(I,U)}disconnect(I){this.B.disconnect(I)}gw(){this.B.gw()}getDeviceId(){return this.B.getDeviceId()}rD(){return this.B.rD()}Cr(){return this.B.G===3}J(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(I){this.dispatchEvent(new dAe(I))}onError(){this.dispatchEvent(new KSV(this.B.Dq===
401?1:0))}sendMessage(I,U){this.B.sendMessage(I,U)}wp(I){this.B.wp(I)}dispose(){this.B.dispose()}};var ovQ=Date.now(),q6=null,TV=Array(50),B6=-1,R7=!1;g.Ht(Ou,g.ZU);Ou.prototype.dj=function(){return this.screens};
Ou.prototype.contains=function(I){return!!Sj(this.screens,I)};
Ou.prototype.get=function(I){return I?zs(this.screens,I):null};
Ou.prototype.info=function(I){e8(this.G,I)};var cik=class extends g.ZU{constructor(I,U,t,W,E){super();this.A=I;this.N=U;this.U=t;this.mu=W;this.C=E;this.J=0;this.B=null;this.WL=NaN}start(){!this.B&&isNaN(this.WL)&&this.D()}stop(){this.B&&(this.B.abort(),this.B=null);isNaN(this.WL)||(g.ab(this.WL),this.WL=NaN)}b0(){this.stop();super.b0()}D(){this.WL=NaN;this.B=g.x9(rC(this.A,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.N},timeout:5E3,onSuccess:(0,g.Ml)(this.G,this),onError:(0,g.Ml)(this.T,this),onTimeout:(0,g.Ml)(this.V,
this)})}G(I,U){this.B=null;I=U.screen||{};I.dialId=this.U;I.name=this.mu;U=-1;this.C&&I.shortLivedLoungeToken&&I.shortLivedLoungeToken.value&&I.shortLivedLoungeToken.refreshIntervalMs&&(I.screenIdType="shortLived",I.loungeToken=I.shortLivedLoungeToken.value,U=I.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new vu(I),U)}T(I){this.B=null;I.status&&I.status==404?this.J>=vSQ.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(I=vSQ[this.J],this.WL=g.Ay((0,g.Ml)(this.D,
this),I),this.J++):this.publish("pairingFailed",Error("Server error "+I.status))}V(){this.B=null;this.publish("pairingFailed",Error("Server not responding"))}},vSQ=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.Ht(VH,Ou);g.F=VH.prototype;g.F.start=function(){nL(this)&&this.publish("screenChange");!g.Ey("yt-remote-lounge-token-expiration")&&k88(this);g.ab(this.B);this.B=g.Ay((0,g.Ml)(this.start,this),1E4)};
g.F.add=function(I,U){nL(this);Xaw(this,I);M6(this,!1);this.publish("screenChange");U(I);I.token||k88(this)};
g.F.remove=function(I,U){let t=nL(this);Y78(this,I)&&(M6(this,!1),t=!0);U(I);t&&this.publish("screenChange")};
g.F.Y7=function(I,U,t,W){let E=nL(this);const Z=this.get(I.id);Z?(Z.name!=U&&(Z.name=U,M6(this,!1),E=!0),t(I)):W(Error("no such local screen."));E&&this.publish("screenChange")};
g.F.b0=function(){g.ab(this.B);VH.Sz.b0.call(this)};
g.F.M$=function(I){nL(this);let U=this.screens.length;I=I&&I.screens||[];const t=I.length;for(let W=0;W<t;++W){const E=I[W],Z=this.get(E.screenId);Z&&(Z.token=E.loungeToken,--U)}M6(this,!U);U&&e8(this.G,"Missed "+U+" lounge tokens.")};
g.F.Gj=function(I){e8(this.G,"Requesting lounge tokens failed: "+I)};var TsQ=class extends g.ZU{constructor(I,U){super();this.G=U;U=(U=g.Ey("yt-remote-online-screen-ids")||"")?U.split(","):[];const t={},W=this.G(),E=W.length;for(let Z=0;Z<E;++Z){const H=W[Z].id;t[H]=g.Fe(U,H)}this.B=t;this.T=I;this.D=this.A=NaN;this.J=null;P6("Initialized with "+g.LU(this.B))}start(){const I=parseInt(g.Ey("yt-remote-fast-check-period")||"0",10);(this.A=g.UH()-144E5<I?0:I)?I1(this):(this.A=g.UH()+3E5,g.Wi("yt-remote-fast-check-period",this.A),this.V())}isEmpty(){return g.tD(this.B)}update(){P6("Updating availability on schedule.");
const I=this.G(),U=g.ek(this.B,function(t,W){return t&&!!zs(I,W)},this);
Ul(this,U)}b0(){g.ab(this.D);this.D=NaN;this.J&&(this.J.abort(),this.J=null);super.b0()}V(){g.ab(this.D);this.D=NaN;this.J&&this.J.abort();const I=xPf(this);if(ZQ(I)){var U=rC(this.T,"/pairing/get_screen_availability"),t={lounge_token:g.nQ(I).join(",")};this.J=this.T.sendRequest("POST",U,t,(0,g.Ml)(this.C,this,I),(0,g.Ml)(this.U,this))}else Ul(this,{}),I1(this)}C(I,U){this.J=null;var t=g.nQ(xPf(this));if(g.rx(t,g.nQ(I))){U=U.screens||[];t={};var W=U.length;for(let E=0;E<W;++E)t[I[U[E].loungeToken]]=
U[E].status=="online";Ul(this,t);I1(this)}else this.Oi("Changing Screen set during request."),this.V()}U(I){this.Oi("Screen availability failed: "+I);this.J=null;I1(this)}Oi(I){e8("OnlineScreenService",I)}};g.Ht(WE,Ou);g.F=WE.prototype;g.F.start=function(){this.J.start();this.B.start();this.screens.length&&(this.publish("screenChange"),this.B.isEmpty()||this.publish("onlineScreenChange"))};
g.F.add=function(I,U,t){this.J.add(I,U,t)};
g.F.remove=function(I,U,t){this.J.remove(I,U,t);this.B.update()};
g.F.Y7=function(I,U,t,W){this.J.contains(I)?this.J.Y7(I,U,t,W):(I="Updating name of unknown screen: "+I.name,e8(this.G,I),W(Error(I)))};
g.F.dj=function(I){return I?this.screens:g.sH(this.screens,g.h$(this.D,function(U){return!this.contains(U)},this))};
g.F.Oa=function(){return g.h$(this.dj(!0),function(I){return!!this.B.B[I.id]},this)};
g.F.BM=function(I,U,t,W,E,Z){this.info("getDialScreenByPairingCode "+I+" / "+U);const H=new cik(this.A,I,U,t,W);H.subscribe("pairingComplete",(w,l)=>{g.WW(H);E(El(this,w),l)});
H.subscribe("pairingFailed",w=>{g.WW(H);Z(w)});
H.start();return(0,g.Ml)(H.stop,H)};
g.F.R$=function(I,U,t,W){g.x9(rC(this.A,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:I},timeout:5E3,onSuccess:(0,g.Ml)(function(E,Z){E=new vu(Z.screen||{});if(!E.name||eoV(this,E.name)){a:{Z=E.name;let H=2,w=U(Z,H);for(;eoV(this,w);){H++;if(H>20)break a;w=U(Z,H)}Z=w}E.name=Z}t(El(this,E))},this),
onError:(0,g.Ml)(function(E){W(Error("pairing request failed: "+E.status))},this),
onTimeout:(0,g.Ml)(function(){W(Error("pairing request timed out."))},this)})};
g.F.b0=function(){g.WW(this.J);g.WW(this.B);WE.Sz.b0.call(this)};
g.F.q$=function(){BsQ(this);this.publish("screenChange");this.B.update()};
WE.prototype.dispose=WE.prototype.dispose;g.Ht(HE,g.ZU);g.F=HE.prototype;g.F.HG=function(I){this.Xe()||(I&&(lV(this,""+I),this.publish("sessionFailed")),this.B=null,this.publish("sessionScreen",null))};
g.F.info=function(I){e8(this.l0,I)};
g.F.oX=function(){return null};
g.F.hg=function(I){const U=this.J;I?(U.displayStatus=new chrome.cast.ReceiverDisplayStatus(I,[]),U.displayStatus.showStop=!0):U.displayStatus=null;chrome.cast.setReceiverDisplayStatus(U,(0,g.Ml)(function(){this.info("Updated receiver status for "+U.friendlyName+": "+I)},this),(0,g.Ml)(function(){lV(this,"Failed to update receiver status for: "+U.friendlyName)},this))};
g.F.b0=function(){this.hg("");HE.Sz.b0.call(this)};var F9=class extends HE{constructor(I,U,t){super(I,U,"CastSession");this.config_=t;this.D=null;this.N=(0,g.Ml)(this.u0,this);this.on=(0,g.Ml)(this.yQ,this);this.mu=g.Ay(()=>{V5e(this,null)},12E4);
this.U=this.T=this.V=this.C=0}wk(I){if(this.D){if(this.D==I)return;lV(this,"Overriding cast session with new session object");M58(this);this.D.removeUpdateListener(this.N);this.D.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.on)}this.D=I;this.D.addUpdateListener(this.N);this.D.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.on);PFe(this,"getMdxSessionStatus")}G(I){this.info("launchWithParams no-op for Cast: "+g.LU(I))}stop(){this.D?this.D.stop((0,g.Ml)(function(){this.HG()},
this),(0,g.Ml)(function(){this.HG(Error("Failed to stop receiver app."))},this)):this.HG(Error("Stopping cast device without session."))}hg(){}b0(){this.info("disposeInternal");
M58(this);this.D&&(this.D.removeUpdateListener(this.N),this.D.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.on));this.D=null;super.b0()}yQ(I,U){if(!this.Xe())if(U)if(U=Hu(U),g.R3(U))switch(I=""+U.type,U=U.data||{},this.info("onYoutubeMessage_: "+I+" "+g.LU(U)),I){case "mdxSessionStatus":V5e(this,U);break;case "loungeToken":I9f(this,U);break;default:lV(this,"Unknown youtube message: "+I)}else lV(this,"Unable to parse message.");else lV(this,"No data in message.")}Js(I,U,t,W){g.ab(this.C);
this.C=0;q76(this.A,this.J.label,I,this.J.friendlyName,(0,g.Ml)(function(E){E?U(E):W>=0?(lV(this,"Screen "+I+" appears to be offline. "+W+" retries left."),this.C=g.Ay((0,g.Ml)(this.Js,this,I,U,t,W-1),300)):t(Error("Unable to fetch screen."))},this),t)}oX(){return this.D}u0(I){this.Xe()||I||(lV(this,"Cast session died."),this.HG())}};var $AQ=class extends HE{constructor(I,U,t,W){super(I,U,"DialSession");this.config_=W;this.D=this.C=null;this.on="";this.yQ=t;this.u0=null;this.N=()=>{};
this.mu=NaN;this.Js=(0,g.Ml)(this.QQ,this);this.T=()=>{};
this.U=this.V=0}wk(I){this.D=I;this.D.addUpdateListener(this.Js)}G(I){this.u0=I;this.N()}stop(){Zn8(this);this.D?this.D.stop((0,g.Ml)(this.HG,this,null),(0,g.Ml)(this.HG,this,"Failed to stop DIAL device.")):this.HG()}b0(){Zn8(this);this.D&&this.D.removeUpdateListener(this.Js);this.D=null;super.b0()}QQ(I){this.Xe()||I||(lV(this,"DIAL session died."),this.T(),this.T=()=>{},this.HG())}};var uy8=class extends HE{constructor(I,U){super(I,U,"ManualSession");this.D=g.Ay((0,g.Ml)(this.G,this,null),150)}stop(){this.HG()}wk(){}G(){g.ab(this.D);this.D=NaN;const I=zs(this.A.dj(),this.J.label);I?wP(this,I):this.HG(Error("No such screen"))}b0(){g.ab(this.D);this.D=NaN;super.b0()}};var jU=class extends g.ZU{constructor(I,U){super();this.config_=U;this.J=I;this.wk=U.appId||"233637DE";this.A=U.theme||"cl";this.l0=U.disableCastApi||!1;this.V=U.forceMirroring||!1;this.B=null;this.U=!1;this.D=[];this.G=(0,g.Ml)(this.u0,this)}init(I,U){chrome.cast.timeout.requestSession=3E4;var t=new chrome.cast.SessionRequest(this.wk,[chrome.cast.Capability.AUDIO_OUT]);g.ob("desktop_enable_cast_connect")&&(t.androidReceiverCompatible=!0);this.l0||(t.dialRequest=new chrome.cast.DialRequest("YouTube"));
const W=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;I=I||this.V?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const E=(0,g.Ml)(this.yQ,this);t=new chrome.cast.ApiConfig(t,(0,g.Ml)(this.C,this),E,W,I);t.customDialLaunchCallback=(0,g.Ml)(this.Js,this);chrome.cast.initialize(t,(0,g.Ml)(function(){this.Xe()||(chrome.cast.addReceiverActionListener(this.G),aKk(),this.J.subscribe("onlineScreenChange",(0,g.Ml)(this.T,this)),this.D=v7k(this),chrome.cast.setCustomReceivers(this.D,
()=>{},(0,g.Ml)(function(Z){this.Oi("Failed to set initial custom receivers: "+g.LU(Z))},this)),this.publish("yt-remote-cast2-availability-change",uV(this)),U(!0))},this),(0,g.Ml)(function(Z){this.Oi("Failed to initialize API: "+g.LU(Z));
U(!1)},this))}Rn(I,U){hN("Setting connected screen ID: "+I+" -> "+U);
if(this.B){var t=this.B.B;if(!I||t&&t.id!=I)hN("Unsetting old screen status: "+this.B.J.friendlyName),SU(this,null)}if(I&&U){if(!this.B){I=zs(this.J.dj(),I);if(!I){hN("setConnectedScreenStatus: Unknown screen.");return}if(I.idType=="shortLived"){hN("setConnectedScreenStatus: Screen with id type to be short lived.");return}t=Kok(this,I);t||(hN("setConnectedScreenStatus: Connected receiver not custom..."),t=new chrome.cast.Receiver(I.uuid?I.uuid:I.id,I.name),t.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.D.push(t),chrome.cast.setCustomReceivers(this.D,()=>{},(0,g.Ml)(function(W){this.Oi("Failed to set initial custom receivers: "+g.LU(W))},this)));
hN("setConnectedScreenStatus: new active receiver: "+t.friendlyName);SU(this,new uy8(this.J,t),!0)}this.B.hg(U)}else hN("setConnectedScreenStatus: no screen.")}hs(I){this.Xe()?this.Oi("Setting connection data on disposed cast v2"):this.B?this.B.G(I):this.Oi("Setting connection data without a session")}on(){this.Xe()?this.Oi("Stopping session on disposed cast v2"):this.B?(this.B.stop(),SU(this,null)):hN("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Ml)(this.C,this),
(0,g.Ml)(this.QQ,this))}b0(){this.J.unsubscribe("onlineScreenChange",(0,g.Ml)(this.T,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.G);var I=juw;const U=g.ql("yt.mdx.remote.debug.handlers_");g.jk(U||[],I);g.WW(this.B);super.b0()}Oi(I){e8("Controller",I)}mu(I,U){this.B==I&&(U||SU(this,null),this.publish("yt-remote-cast2-session-change",U))}u0(I,U){if(!this.Xe())if(I)switch(I.friendlyName=chrome.cast.unescape(I.friendlyName),hN("onReceiverAction_ "+I.label+" / "+I.friendlyName+
"-- "+U),U){case chrome.cast.ReceiverAction.CAST:if(this.B)if(this.B.J.label!=I.label)hN("onReceiverAction_: Stopping active receiver: "+this.B.J.friendlyName),this.B.stop();else{hN("onReceiverAction_: Casting to active receiver.");this.B.B&&this.publish("yt-remote-cast2-session-change",this.B.B);break}switch(I.receiverType){case chrome.cast.ReceiverType.CUSTOM:SU(this,new uy8(this.J,I));break;case chrome.cast.ReceiverType.DIAL:SU(this,new $AQ(this.J,I,this.A,this.config_));break;case chrome.cast.ReceiverType.CAST:SU(this,
new F9(this.J,I,this.config_));break;default:this.Oi("Unknown receiver type: "+I.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.B&&this.B.J.label==I.label?this.B.stop():this.Oi("Stopping receiver w/o session: "+I.friendlyName)}else this.Oi("onReceiverAction_ called without receiver.")}Js(I){if(this.Xe())return Promise.reject(Error("disposed"));var U=I.receiver;U.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.Oi("Not DIAL receiver: "+U.friendlyName),U.receiverType=chrome.cast.ReceiverType.DIAL);
var t=this.B?this.B.J:null;if(!t||t.label!=U.label)return this.Oi("Receiving DIAL launch request for non-clicked DIAL receiver: "+U.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(t&&t.label==U.label&&t.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.B.B)return hN("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.B.B),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.Oi('Changing CAST intent from "'+t.receiverType+'" to "dial" for '+U.friendlyName);
SU(this,new $AQ(this.J,U,this.A,this.config_))}U=this.B;U.C=I;U.C.appState==chrome.cast.DialAppState.RUNNING?(I=U.C.extraData||{},t=I.screenId||null,cE(U)&&I.loungeToken?I.loungeTokenRefreshIntervalMs?I=d_0(U,{name:U.J.friendlyName,screenId:I.screenId,loungeToken:I.loungeToken,dialId:U.C.receiver.label,screenIdType:"shortLived"},I.loungeTokenRefreshIntervalMs):(g.ZL(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(I)}.`)),I=wGV(U,t)):I=wGV(U,t)):I=vE(U);return I}C(I){if(!this.Xe()&&
!this.V){hN("New cast session ID: "+I.sessionId);var U=I.receiver;if(U.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.B)if(U.receiverType==chrome.cast.ReceiverType.CAST)hN("Got resumed cast session before resumed mdx connection."),U.friendlyName=chrome.cast.unescape(U.friendlyName),SU(this,new F9(this.J,U,this.config_),!0);else{this.Oi("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var t=this.B.J,W=zs(this.J.dj(),t.label);W&&cu(W,U.label)&&t.receiverType!=
chrome.cast.ReceiverType.CAST&&U.receiverType==chrome.cast.ReceiverType.CAST&&(hN("onSessionEstablished_: manual to cast session change "+U.friendlyName),g.WW(this.B),this.B=new F9(this.J,U,this.config_),this.B.subscribe("sessionScreen",(0,g.Ml)(this.mu,this,this.B)),this.B.subscribe("sessionFailed",()=>cdY(this,this.B)),this.B.G(null));
this.B.wk(I)}}}N(){return this.B?this.B.oX():null}QQ(I){this.Xe()||(this.Oi("Failed to estabilish a session: "+g.LU(I)),I.code!=chrome.cast.ErrorCode.CANCEL&&SU(this,null),this.publish("yt-remote-cast2-session-failed"))}yQ(I){hN("Receiver availability updated: "+I);if(!this.Xe()){var U=uV(this);this.U=I==chrome.cast.ReceiverAvailability.AVAILABLE;uV(this)!=U&&this.publish("yt-remote-cast2-availability-change",uV(this))}}T(){this.Xe()||(this.D=v7k(this),hN("Updating custom receivers: "+g.LU(this.D)),
chrome.cast.setCustomReceivers(this.D,()=>{},(0,g.Ml)(function(){this.Oi("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",uV(this)))}};
jU.prototype.setLaunchParams=jU.prototype.hs;jU.prototype.setConnectedScreenStatus=jU.prototype.Rn;jU.prototype.stopSession=jU.prototype.on;jU.prototype.getCastSession=jU.prototype.N;jU.prototype.requestSession=jU.prototype.requestSession;jU.prototype.init=jU.prototype.init;jU.prototype.dispose=jU.prototype.dispose;var Cq=[],z7k=(0,g.nW)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.F=AN.prototype;
g.F.reset=function(I){this.listId="";this.index=-1;this.videoId="";sl(this);this.volume=-1;this.muted=!1;I&&(this.index=I.index,this.listId=I.listId,this.videoId=I.videoId,this.playerState=I.playerState,this.volume=I.volume,this.muted=I.muted,this.audioTrackId=I.audioTrackId,this.trackData=I.trackData,this.hasPrevious=I.hasPrevious,this.hasNext=I.hasNext,this.G=I.playerTime,this.T=I.playerTimeAt,this.J=I.seekableStart,this.V=I.seekableEnd,this.D=I.duration,this.loadedTime=I.loadedTime,this.B=I.liveIngestionTime,
this.A=!isNaN(this.B))};
g.F.isPlaying=function(){return this.playerState==1};
g.F.isBuffering=function(){return this.playerState==3};
g.F.Ro=function(I){this.D=isNaN(I)?0:I};
g.F.getDuration=function(){return this.A?this.D+a1(this):this.D};
g.F.clone=function(){return new AN(Xw(this))};var hA8=class extends g.ZU{constructor(){var I=HA();super();this.D=0;this.A=I;this.V=[];this.T=new ZOV;this.J=this.B=null;this.N=(0,g.Ml)(this.u0,this);this.C=(0,g.Ml)(this.G,this);this.mu=(0,g.Ml)(this.Js,this);this.l0=(0,g.Ml)(this.yQ,this);let U=0;I?(U=I.getProxyState(),U!=3&&(I.subscribe("proxyStateChange",this.wk,this),QQ$(this))):U=3;U!=0&&g.Ay(()=>{this.wk(U)},0);
(I=C86())&&iV(this,I);this.subscribe("yt-remote-cast2-session-change",this.l0)}getState(){return this.D}rD(){return this.A.getReconnectTimeout()}gw(){this.A.reconnect()}play(){kr(this)?(this.B?this.B.play(null,g.XP,xr(this,"play")):DD(this,"play"),GW(this,1,JN(Yr(this))),this.publish("remotePlayerChange")):qD(this,this.play)}pause(){kr(this)?(this.B?this.B.pause(null,g.XP,xr(this,"pause")):DD(this,"pause"),GW(this,2,JN(Yr(this))),this.publish("remotePlayerChange")):qD(this,this.pause)}seekTo(I){if(kr(this)){if(this.B){const U=
Yr(this),t=new chrome.cast.media.SeekRequest;t.currentTime=I;U.isPlaying()||U.isBuffering()?t.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:t.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.B.seek(t,g.XP,xr(this,"seekTo",{newTime:I}))}else DD(this,"seekTo",{newTime:I});GW(this,3,I);this.publish("remotePlayerChange")}else qD(this,g.Pk(this.seekTo,I))}stop(){if(kr(this)){this.B?this.B.stop(null,g.XP,xr(this,"stopVideo")):DD(this,"stopVideo");var I=Yr(this);I.index=-1;I.videoId=
"";sl(I);rP(this,I);this.publish("remotePlayerChange")}else qD(this,this.stop)}setVolume(I,U){if(kr(this)){var t=Yr(this);if(this.J){if(t.volume!=I){const W=Math.round(I)/100;this.J.setReceiverVolumeLevel(W,(0,g.Ml)(function(){b4("set receiver volume: "+W)},this),(0,g.Ml)(function(){this.Oi("failed to set receiver volume.")},this))}t.muted!=U&&this.J.setReceiverMuted(U,(0,g.Ml)(function(){b4("set receiver muted: "+U)},this),(0,g.Ml)(function(){this.Oi("failed to set receiver muted.")},this))}else{const W=
{volume:I,
muted:U};t.volume!=-1&&(W.delta=I-t.volume);DD(this,"setVolume",W)}t.muted=U;t.volume=I;rP(this,t)}else qD(this,g.Pk(this.setVolume,I,U))}U(I,U){if(kr(this)){var t=Yr(this);I={videoId:I};U&&(t.trackData={trackName:U.name,languageCode:U.languageCode,sourceLanguageCode:U.translationLanguage?U.translationLanguage.languageCode:"",languageName:U.languageName,kind:U.kind},I.style=g.LU(U.style),g.d5(I,t.trackData));DD(this,"setSubtitlesTrack",I);rP(this,t)}else qD(this,g.Pk(this.U,I,U))}setAudioTrack(I,
U){kr(this)?(U=U.getLanguageInfo().getId(),DD(this,"setAudioTrack",{videoId:I,audioTrackId:U}),I=Yr(this),I.audioTrackId=U,rP(this,I)):qD(this,g.Pk(this.setAudioTrack,I,U))}playVideo(I,U,t,W=null,E=null,Z=null,H=null){const w=Yr(this),l={videoId:I};t!==void 0&&(l.currentIndex=t);o1(w,I,t||0);U!==void 0&&(ND(w,U),l.currentTime=U);W&&(l.listId=W);E&&(l.playerParams=E);Z&&(l.clickTrackingParams=Z);H&&(l.locationInfo=g.LU(H));DD(this,"setPlaylist",l);W||rP(this,w)}rT(I,U){if(kr(this)){if(I&&U){const t=
Yr(this);o1(t,I,U);rP(this,t)}DD(this,"previous")}else qD(this,g.Pk(this.rT,I,U))}nextVideo(I,U){if(kr(this)){if(I&&U){const t=Yr(this);o1(t,I,U);rP(this,t)}DD(this,"next")}else qD(this,g.Pk(this.nextVideo,I,U))}bX(){if(kr(this)){DD(this,"clearPlaylist");var I=Yr(this);I.reset();rP(this,I);this.publish("remotePlayerChange")}else qD(this,this.bX)}on(){kr(this)?DD(this,"dismissAutoplay"):qD(this,this.on)}dispose(){if(this.D!=3){const I=this.D;this.D=3;this.publish("proxyStateChange",I,this.D)}super.dispose()}b0(){f9$(this);
this.A=null;this.T.clear();iV(this,null);super.b0()}wk(I){if((I!=this.D||I==2)&&this.D!=3&&I!=0){var U=this.D;this.D=I;this.publish("proxyStateChange",U,I);if(I==1)for(;!this.T.isEmpty();)U=I=this.T,U.B.length===0&&(U.B=U.J,U.B.reverse(),U.J=[]),I.B.pop().apply(this);else I==3&&this.dispose()}}QQ(I,U){this.publish(I,U)}u0(I){if(!I)this.G(null),iV(this,null);else if(this.J.receiver.volume){I=this.J.receiver.volume;const U=Yr(this),t=Math.round(100*I.level||0);if(U.volume!=t||U.muted!=I.muted)b4("Cast volume update: "+
I.level+(I.muted?" muted":"")),U.volume=t,U.muted=!!I.muted,rP(this,U)}}G(I){b4("Cast media: "+!!I);this.B&&this.B.removeUpdateListener(this.mu);if(this.B=I)this.B.addUpdateListener(this.mu),jQ6(this),this.publish("remotePlayerChange")}Js(I){I?(jQ6(this),this.publish("remotePlayerChange")):this.G(null)}Bi(){DD(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}yQ(){const I=C86();I&&iV(this,I)}Oi(I){e8("CP",I)}};var Sg=class extends g.ZU{constructor(I,U=!1){var t=nq,W=EF();super();this.G=NaN;this.Js=!1;this.N=this.mu=this.wk=this.l0=NaN;this.on=[];this.T=this.U=this.A=this.B=this.J=null;this.qd=t;this.QQ=U;this.on.push(g.nC(window,"beforeunload",()=>{this.V(2)}));
this.D=[];this.B=new AN;this.UJ=I.id;this.yQ=I.idType;this.J=fK8(this.qd,W,this.u0,this.yQ=="shortLived",this.UJ);this.J.listen("channelOpened",()=>{Adk(this)});
this.J.listen("channelClosed",()=>{eU("Channel closed");isNaN(this.G)?CH(!0):CH();this.dispose()});
this.J.listen("channelError",E=>{CH();isNaN(this.C())?(E==1&&this.yQ=="shortLived"&&this.publish("browserChannelAuthError",E),eU(`Channel error: ${E} without reconnection`),this.dispose()):(this.Js=!0,eU("Channel error: "+E+" with reconnection in "+this.C()+" ms"),BE(this,2))});
this.J.listen("channelMessage",E=>{rdx(this,E)});
this.J.wp(I.token);this.subscribe("remoteQueueChange",()=>{var E=this.B.videoId;g.Hi()&&g.Wi("yt-remote-session-video-id",E)})}connect(I,U){if(U){var t=U.listId;
const W=U.videoId,E=U.videoIds,Z=U.playerParams,H=U.clickTrackingParams,w=U.index,l={videoId:W},d=U.currentTime,K=U.locationInfo;U=U.loopMode;d!==void 0&&(l.currentTime=d<=5?0:d);Z&&(l.playerParams=Z);K&&(l.locationInfo=K);H&&(l.clickTrackingParams=H);t&&(l.listId=t);E&&E.length>0&&(l.videoIds=E.join(","));w!==void 0&&(l.currentIndex=w);this.QQ&&(l.loopMode=U||"LOOP_MODE_OFF");t&&(this.B.listId=t);this.B.videoId=W;this.B.index=w||0;this.B.state=3;ND(this.B,d);this.T="UNSUPPORTED";t=this.QQ?"setInitialState":
"setPlaylist";eU(`Connecting with ${t} and params: ${g.LU(l)}`);this.J.connect({method:t,params:g.LU(l)},I,iww())}else eU("Connecting without params"),this.J.connect({},I,iww());Gut(this)}wp(I){this.J.wp(I)}dispose(){this.Xe()||(g.DH("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),BE(this,3));super.dispose()}b0(){TW(this);R1(this);bV(this);g.ab(this.mu);this.mu=NaN;g.ab(this.N);this.N=NaN;this.A=null;g.VR(this.on);this.on.length=0;this.J.dispose();super.b0();this.T=this.U=this.D=
this.B=this.J=null}hs(I){if(!this.D||this.D.length===0)return!1;for(const U of this.D)if(!U.capabilities.has(I))return!1;return!0}dk(){let I=3;this.Xe()||(I=0,isNaN(this.C())?this.J.Cr()&&isNaN(this.G)&&(I=1):I=2);return I}V(I){eU("Disconnecting with "+I);g.DH("yt.mdx.remote.remoteClient_",null);TW(this);this.publish("beforeDisconnect",I);I==1&&CH();this.J.disconnect(I);this.dispose()}Nd(){let I=this.B;this.A&&(I=this.B.clone(),o1(I,this.A,I.index));return Xw(I)}wC(I){const U=new AN(I);U.videoId&&
U.videoId!=this.B.videoId&&(this.A=U.videoId,g.ab(this.mu),this.mu=g.Ay(()=>{if(this.A){const W=this.A;this.A=null;this.B.videoId!=W&&Ol(this,"getNowPlaying")}},5E3));
const t=[];this.B.listId==U.listId&&this.B.videoId==U.videoId&&this.B.index==U.index||t.push("remoteQueueChange");this.B.playerState==U.playerState&&this.B.volume==U.volume&&this.B.muted==U.muted&&JN(this.B)==JN(U)&&g.LU(this.B.trackData)==g.LU(U.trackData)||t.push("remotePlayerChange");this.B.reset(I);g.uY(t,function(W){this.publish(W)},this)}Rn(){const I=this.J.getDeviceId(),U=g.CQ(this.D,function(t){return t.type=="REMOTE_CONTROL"&&t.id!=I});
return U?U.id:""}C(){return this.J.rD()}j6(){return this.T||"UNSUPPORTED"}PK(){return this.U||""}Md(){!isNaN(this.C())&&this.J.gw()}oF(I,U){Ol(this,I,U);bnf(this)}u0(){var I=g.Ur("SAPISID","")||g.Ur("__Secure-1PAPISID")||"",U=g.Ur("__Secure-3PAPISID","")||"";if(!I&&!U)return"";I=g.kc(g.X2(I),2);U=g.kc(g.X2(U),2);return g.kc(g.X2(`,${I},${U}`),2)}};Sg.prototype.subscribe=Sg.prototype.subscribe;Sg.prototype.unsubscribeByKey=Sg.prototype.KX;Sg.prototype.getProxyState=Sg.prototype.dk;
Sg.prototype.disconnect=Sg.prototype.V;Sg.prototype.getPlayerContextData=Sg.prototype.Nd;Sg.prototype.setPlayerContextData=Sg.prototype.wC;Sg.prototype.getOtherConnectedRemoteId=Sg.prototype.Rn;Sg.prototype.getReconnectTimeout=Sg.prototype.C;Sg.prototype.getAutoplayMode=Sg.prototype.j6;Sg.prototype.getAutoplayVideoId=Sg.prototype.PK;Sg.prototype.reconnect=Sg.prototype.Md;Sg.prototype.sendMessage=Sg.prototype.oF;Sg.prototype.getXsrfToken=Sg.prototype.u0;
Sg.prototype.isCapabilitySupportedOnConnectedDevices=Sg.prototype.hs;var MY0=class extends Ou{constructor(I){super("ScreenServiceProxy");this.dQ=I;this.B=[];this.B.push(this.dQ.$_s("screenChange",(0,g.Ml)(this.J,this)));this.B.push(this.dQ.$_s("onlineScreenChange",(0,g.Ml)(this.D,this)))}dj(I){return this.dQ.$_gs(I)}contains(I){return!!this.dQ.$_c(I)}get(I){return this.dQ.$_g(I)}start(){this.dQ.$_st()}add(I,U,t){this.dQ.$_a(I,U,t)}remove(I,U,t){this.dQ.$_r(I,U,t)}Y7(I,U,t,W){this.dQ.$_un(I,U,t,W)}b0(){const I=this.B.length;for(let U=0;U<I;++U)this.dQ.$_ubk(this.B[U]);
this.B.length=0;this.dQ=null;super.b0()}J(){this.publish("screenChange")}D(){this.publish("onlineScreenChange")}};WE.prototype.$_st=WE.prototype.start;WE.prototype.$_gspc=WE.prototype.R$;WE.prototype.$_gsppc=WE.prototype.BM;WE.prototype.$_c=WE.prototype.contains;WE.prototype.$_g=WE.prototype.get;WE.prototype.$_a=WE.prototype.add;WE.prototype.$_un=WE.prototype.Y7;WE.prototype.$_r=WE.prototype.remove;WE.prototype.$_gs=WE.prototype.dj;WE.prototype.$_gos=WE.prototype.Oa;WE.prototype.$_s=WE.prototype.subscribe;
WE.prototype.$_ubk=WE.prototype.KX;var li=null,ui=!1,nq=null,VT=null,$t=null,UF=[];var SKw=class extends g.ZW{constructor(I,U,t){super();this.B=I;this.Z=U;this.ov=t;this.events=new g.E9(this);this.G=!1;this.U=new g.eu(64);this.J=new g.bP(this.u0,500,this);this.D=new g.bP(this.yQ,1E3,this);this.mu=new si(this.UJ,0,this);this.A={};this.N=new g.bP(this.Rn,1E3,this);this.C=new g.tt(this.seekTo,1E3,this);this.hs=this.events.L(this.Z,"onVolumeChange",W=>{UAe(this,W)});
g.J(this,this.events);this.events.L(U,"onCaptionsTrackListChanged",this.Md);this.events.L(U,"captionschanged",this.qd);this.events.L(U,"captionssettingschanged",this.QQ);this.events.L(U,"videoplayerreset",this.V);this.events.L(U,"mdxautoplaycancel",()=>{this.ov.on()});
U.K("enable_mdx_video_play_directly")&&this.events.L(U,"videodatachange",()=>{ESL(this.B)||z7(this)||pl(this,0)});
I=this.ov;I.Xe();I.subscribe("proxyStateChange",this.Js,this);I.subscribe("remotePlayerChange",this.T,this);I.subscribe("remoteQueueChange",this.V,this);I.subscribe("previousNextChange",this.l0,this);I.subscribe("nowAutoplaying",this.wk,this);I.subscribe("autoplayDismissed",this.on,this);g.J(this,this.J);g.J(this,this.D);g.J(this,this.mu);g.J(this,this.N);g.J(this,this.C);this.QQ();this.V();this.T()}b0(){super.b0();this.J.stop();this.D.stop();this.mu.stop();const I=this.ov;I.unsubscribe("proxyStateChange",
this.Js,this);I.unsubscribe("remotePlayerChange",this.T,this);I.unsubscribe("remoteQueueChange",this.V,this);I.unsubscribe("previousNextChange",this.l0,this);I.unsubscribe("nowAutoplaying",this.wk,this);I.unsubscribe("autoplayDismissed",this.on,this);this.ov=this.B=null}NE(I,...U){if(this.ov.D!=2)if(z7(this)){if(Yr(this.ov).playerState!=1081||I!=="control_seek")switch(I){case "control_toggle_play_pause":Yr(this.ov).isPlaying()?this.ov.pause():this.ov.play();break;case "control_play":this.ov.play();
break;case "control_pause":this.ov.pause();break;case "control_seek":this.C.A(U[0],U[1]);break;case "control_subtitles_set_track":ms(this,U[0]);break;case "control_set_audio_track":this.setAudioTrack(U[0])}}else switch(I){case "control_toggle_play_pause":case "control_play":case "control_pause":I=this.Z.getCurrentTime();pl(this,I===0?void 0:I);break;case "control_seek":pl(this,U[0]);break;case "control_subtitles_set_track":ms(this,U[0]);break;case "control_set_audio_track":this.setAudioTrack(U[0])}}qd(I){this.mu.bV(I)}UJ(I){this.NE("control_subtitles_set_track",
g.tD(I)?null:I)}QQ(){const I=this.Z.getOption("captions","track");g.tD(I)||ms(this,I)}h3(I){this.B.h3(I,this.Z.getVideoData().lengthSeconds)}Md(){g.tD(this.A)||tFY(this,this.A);this.G=!1}Js(I,U){this.D.stop();U===2&&this.yQ()}T(){if(z7(this)){this.J.stop();var I=Yr(this.ov);switch(I.playerState){case 1080:case 1081:case 1084:case 1085:this.B.aU=1;break;case 1082:case 1083:this.B.aU=0;break;default:this.B.aU=-1}switch(I.playerState){case 1081:case 1:this.Ft(new g.eu(8));this.u0();break;case 1085:case 3:this.Ft(new g.eu(9));
break;case 1083:case 0:this.Ft(new g.eu(2));this.C.stop();this.h3(this.Z.getVideoData().lengthSeconds);break;case 1084:this.Ft(new g.eu(4));break;case 2:this.Ft(new g.eu(4));this.h3(JN(I));break;case -1:this.Ft(new g.eu(64));break;case -1E3:this.Ft(new g.eu(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",Z4:2}))}const t=Yr(this.ov).trackData;I=t;var U=this.A;(I||U?I&&U&&I.trackName==U.trackName&&I.languageCode==U.languageCode&&I.languageName==U.languageName&&
I.kind==U.kind:1)||(this.A=t,tFY(this,t));I=Yr(this.ov);I.volume===-1||Math.round(this.Z.getVolume())===I.volume&&this.Z.isMuted()===I.muted||this.N.isActive()||this.Rn()}else WSw(this)}l0(){this.Z.publish("mdxpreviousnextchange")}V(){z7(this)||WSw(this)}wk(I){isNaN(I)||this.Z.publish("mdxnowautoplaying",I)}on(){this.Z.publish("mdxautoplaycanceled")}setAudioTrack(I){z7(this)&&this.ov.setAudioTrack(Ll(this).videoId,I)}seekTo(I,U){Yr(this.ov).playerState===-1?pl(this,I):U&&this.ov.seekTo(I)}Rn(){if(z7(this)){var I=
Yr(this.ov);this.events.Z5(this.hs);I.muted?this.Z.mute():this.Z.unMute();this.Z.setVolume(I.volume);this.hs=this.events.L(this.Z,"onVolumeChange",U=>{UAe(this,U)})}}u0(){this.J.stop();
if(!this.ov.Xe()){var I=Yr(this.ov);I.isPlaying()&&this.Ft(new g.eu(8));this.h3(JN(I));this.J.start()}}yQ(){this.D.stop();this.J.stop();const I=this.ov.rD();this.ov.D==2&&!isNaN(I)&&this.D.start()}Ft(I){this.D.stop();const U=this.U;if(!g.nu(U,I)){const t=I.B(2);t!==this.U.B(2)&&this.Z.EE(t);this.U=I;Z_w(this.B,U,I)}}};var zAf=class extends g.sj{constructor(I,U){super(I);this.B=U}getCurrentTime(){return this.B.getCurrentTime()}getDuration(){return this.B.getDuration()}r8(){return this.B.r8()}ai(){return this.B.ai()}B8(){return this.B.B8()}vF(){return this.B.vF()}getPlayerState(){return this.B.LK}isAtLiveHead(){return this.B.isAtLiveHead()}pauseVideo(){g$(this.B,"control_pause")}async playVideo(){g$(this.B,"control_play")}seekTo(I,U){g$(this.B,"control_seek",I,!U?.FH)}k6(I){g$(this.B,"control_set_audio_track",I);
return!0}};var LSV=class extends g.V{constructor(){super({X:"div",Y:"ytp-mdx-popup-dialog",W:{role:"dialog"},j:[{X:"div",Y:"ytp-mdx-popup-dialog-inner-content",j:[{X:"div",Y:"ytp-mdx-popup-title",Fe:"You're signed out"},{X:"div",Y:"ytp-mdx-popup-description",Fe:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{X:"div",Y:"ytp-mdx-privacy-popup-buttons",j:[{X:"button",fl:["ytp-button","ytp-mdx-privacy-popup-cancel"],
Fe:"Cancel"},{X:"button",fl:["ytp-button","ytp-mdx-privacy-popup-confirm"],Fe:"Confirm"}]}]}]});this.fade=new g.jx(this,250);this.cancelButton=this.e6("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.e6("ytp-mdx-privacy-popup-confirm");g.J(this,this.fade);this.L(this.cancelButton,"click",this.B);this.L(this.confirmButton,"click",this.J)}pL(){this.fade.show()}Mt(){this.fade.hide()}B(){F0("mdx-privacy-popup-cancel");this.Mt()}J(){F0("mdx-privacy-popup-confirm");this.Mt()}};var pNQ=class extends g.V{constructor(I){super({X:"div",Y:"ytp-remote",j:[{X:"div",Y:"ytp-remote-display-status",j:[{X:"div",Y:"ytp-remote-display-status-icon",j:[g.koA()]},{X:"div",Y:"ytp-remote-display-status-text",Fe:"{{statustext}}"}]}]});this.api=I;this.fade=new g.jx(this,250);g.J(this,this.fade);this.L(I,"presentingplayerstatechange",this.onStateChange);this.MF(I.getPlayerStateObject())}onStateChange(I){this.MF(I.state)}MF(I){if(this.api.getPresentingPlayerType()===3){const U={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};I=I.B(128)?g.KS("Error on $RECEIVER_NAME",U):I.isPlaying()||I.isPaused()?g.KS("Playing on $RECEIVER_NAME",U):g.KS("Connected to $RECEIVER_NAME",U);this.updateValue("statustext",I);this.fade.show()}else this.fade.hide()}};var mAw=class extends g.Sv{constructor(I,U){super("Play on",1,I,U);this.Z=I;this.wU={};this.L(I,"onMdxReceiversChange",this.G);this.L(I,"presentingplayerstatechange",this.G);this.G()}G(){var I=this.Z.getOption("remote","receivers");I&&I.length>1&&!this.Z.getOption("remote","quickCast")?(this.wU=g.q8(I,this.T,this),this.A(g.Sk(I,this.T)),I=this.Z.getOption("remote","currentReceiver"),I=this.T(I),this.options[I]&&this.J(I),this.enable(!0)):this.enable(!1)}T(I){return I.key}D(I){return I==="cast-selector-receiver"?
"Cast...":this.wU[I].name}B(I){super.B(I);this.Z.setOption("remote","currentReceiver",this.wU[I]);this.Er.Mt()}};g.g7("remote",class extends g.p0{constructor(I){super(I);this.eJ={key:h0(),name:"This computer"};this.R2=null;this.subscriptions=[];this.gK=this.ov=null;this.wU=[this.eJ];this.Px=this.eJ;this.LK=new g.eu(64);this.dW=0;this.aU=-1;this.aI=!1;this.Nu=this.II=this.gL=null;if(!g.Ya(this.player.S())&&!g.TD(this.player.S())){I=this.player;var U=g.W7(I);U&&(U=U.fV())&&(U=new mAw(I,U),g.J(this,U));U=new pNQ(I);g.J(this,U);g.zp(I,U.element,4);this.gL=new LSV;g.J(this,this.gL);g.zp(I,this.gL.element,4);this.aI=
!!WA()}}create(){var I=this.player.S();const U=g.Dp(I);I={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:I.K("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:I.K("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:I.K("enable_cast_short_lived_lounge_token")};OnQ(U,I);this.subscriptions.push(g.Es("yt-remote-before-disconnect",this.dI,this));this.subscriptions.push(g.Es("yt-remote-connection-change",this.OT,this));this.subscriptions.push(g.Es("yt-remote-receiver-availability-change",
this.dH,this));this.subscriptions.push(g.Es("yt-remote-auto-connect",this.dG,this));this.subscriptions.push(g.Es("yt-remote-receiver-resumed",this.NA,this));this.subscriptions.push(g.Es("mdx-privacy-popup-confirm",this.Ni,this));this.subscriptions.push(g.Es("mdx-privacy-popup-cancel",this.a7,this));this.dH()}load(){this.player.cancelPlayback();super.load();this.Nu=new zAf(this.player.S(),this);this.player.nj(this.Nu);this.R2=new SKw(this,this.player,this.ov);var I=(I=IwY())?I.currentTime:0;const U=
cA()?new hA8:null;I==0&&U&&(I=JN(Yr(U)));I!==0&&this.h3(I);Z_w(this,this.LK,this.LK);this.player.Ga(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.kJ();this.Px=this.eJ;g.E3(this.R2,this.ov);this.ov=this.Nu=this.R2=null;super.unload();this.player.Ga(5);Cl(this)}b0(){g.ZE(this.subscriptions);super.b0()}getAdState(){return this.aU}hasPrevious(){return this.ov?Yr(this.ov).hasPrevious:!1}hasNext(){return this.ov?Yr(this.ov).hasNext:!1}h3(I,U){this.dW=I||0;this.player.publish("progresssync",
I,U);g.PS(this.player,"onVideoProgress",I||0)}getCurrentTime(){return this.dW}getDuration(){return Yr(this.ov).getDuration()||0}r8(){var I=Yr(this.ov);return I.A?I.B+a1(I):I.B}ai(){return Yr(this.ov).loadedTime}B8(){return FoY(Yr(this.ov))}vF(){var I=Yr(this.ov);return I.J>0?I.J+a1(I):I.J}getProgressState(){const I=Yr(this.ov),U=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:I.playerState!=1081&&this.player.nf(),clipEnd:U.clipEnd,clipStart:U.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.r8(),isAtLiveHead:this.isAtLiveHead(),loaded:this.ai(),seekableEnd:this.B8(),seekableStart:this.vF(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return FoY(Yr(this.ov))-this.getCurrentTime()<=1}nextVideo(){this.ov&&this.ov.nextVideo()}rT(){this.ov&&this.ov.rT()}dI(I){I===1&&(this.gK=this.ov?Yr(this.ov):null)}OT(){var I=cA()?new hA8:null;if(I){const U=this.Px;this.loaded&&this.unload();this.ov=I;this.gK=null;U.key!==this.eJ.key&&
(this.Px=U,this.load())}else g.WW(this.ov),this.ov=null,this.loaded&&(this.unload(),(I=this.gK)&&I.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(I.videoId,JN(I)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}dH(){var I=[this.eJ],U=I.concat;const t=n7w();yT()&&g.Ey("yt-remote-cast-available")&&t.push({key:"cast-selector-receiver",name:"Cast..."});this.wU=U.call(I,t);I=w$()||this.eJ;yZ(this,I);g.PS(this.player,"onMdxReceiversChange")}dG(){const I=
w$();yZ(this,I)}NA(){this.Px=w$()}Ni(){this.aI=!0;Cl(this);ui=!1;li&&Kl(li,1);li=null}a7(){this.aI=!1;Cl(this);yZ(this,this.eJ);this.Px=this.eJ;ui=!1;li=null;this.player.playVideo()}LX(I,U){switch(I){case "casting":return this.loaded;case "receivers":return this.wU;case "currentReceiver":return U&&(U.key==="cast-selector-receiver"?QT():yZ(this,U)),this.loaded?this.Px:this.eJ;case "quickCast":return this.wU.length===2&&this.wU[1].key==="cast-selector-receiver"?(U&&QT(),!0):!1}}Bi(){this.ov.Bi()}l6(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.r("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.r("SESSION_INDEX")&&!g.r("LOGGED_IN"))}});})(_yt_player);
